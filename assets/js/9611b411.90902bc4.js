"use strict";(globalThis.webpackChunkmy_portfolio=globalThis.webpackChunkmy_portfolio||[]).push([[77328],{28453:(e,r,d)=>{d.d(r,{R:()=>o,x:()=>s});var n=d(96540);const i={},t=n.createContext(i);function o(e){const r=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(t.Provider,{value:r},e.children)}},37872:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/dev/java/\ubc30\uce58-\uc870\ud68c-\uc804\ub7b5-\uc744-\uc0ac\uc6a9\ud55c-\ucffc\ub9ac-\uac1c\uc120","source":"@site/blog/dev/java/\ubc30\uce58-\uc870\ud68c-\uc804\ub7b5-\uc744-\uc0ac\uc6a9\ud55c-\ucffc\ub9ac-\uac1c\uc120.md","title":"\ubc30\uce58 \uc870\ud68c \uc804\ub7b5 \uc744 \uc0ac\uc6a9\ud55c \ucffc\ub9ac \uac1c\uc120","description":"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0\uc5d0\uc11c \uc0c1\ud488\ub9c8\ub2e4 \uc0dd\uae34 \uc8fc\ubb38 \uc0c1\uc138\ub97c \uc870\ud68c \ud560 \ub54c N+1 \ubb38\uc81c\uac00 \ubc1c\uc0dd \ud588\ub2e4.","date":"2024-04-25T00:00:00.000Z","tags":[{"inline":false,"label":"Dev","permalink":"/docs/blog/tags/dev","description":"\uac1c\ubc1c \uc2e4\uc804 \ub178\ud2b8"},{"inline":false,"label":"Java/SpringBoot","permalink":"/docs/blog/tags/dev/java-springboot","description":"Java/Spring Boot \uad00\ub828 \uae00"},{"inline":false,"label":"Java","permalink":"/docs/blog/tags/dev/java","description":"Java \uad00\ub828 \uae00"}],"readingTime":5.79,"hasTruncateMarker":false,"authors":[{"name":"thunder","title":"\uac1c\ubc1c\uc790","url":"https://github.com/pie0902","page":{"permalink":"/docs/blog/authors/thunder"},"socials":{"github":"https://github.com/pie0902"},"key":"thunder"}],"frontMatter":{"title":"\ubc30\uce58 \uc870\ud68c \uc804\ub7b5 \uc744 \uc0ac\uc6a9\ud55c \ucffc\ub9ac \uac1c\uc120","date":"2024-04-25T00:00:00.000Z","authors":["thunder"],"tags":["dev","java-springboot","java"]},"unlisted":false,"prevItem":{"title":"TIL: 2024-04-25 \ubaa9\uc694\uc77c","permalink":"/docs/blog/2024/04/25/til/til-\ubaa9\uc694\uc77c"},"nextItem":{"title":"2024.04.25 Today I Learned","permalink":"/docs/blog/2024/04/25/til/today-i-learned"}}')},93719:(e,r,d)=>{d.r(r),d.d(r,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>l});var n=d(37872),i=d(74848),t=d(28453);const o={title:"\ubc30\uce58 \uc870\ud68c \uc804\ub7b5 \uc744 \uc0ac\uc6a9\ud55c \ucffc\ub9ac \uac1c\uc120",date:new Date("2024-04-25T00:00:00.000Z"),authors:["thunder"],tags:["dev","java-springboot","java"]},s=void 0,a={authorsImageUrls:[void 0]},l=[{value:"productService \uc5d0\uc11c \uad00\ub9ac\uc790\uc758 \uc0c1\ud488 \uc870\ud68c \ucf54\ub4dc",id:"productservice-\uc5d0\uc11c-\uad00\ub9ac\uc790\uc758-\uc0c1\ud488-\uc870\ud68c-\ucf54\ub4dc",level:3},{value:"productAdminDto",id:"productadmindto",level:4},{value:"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0\uc5d0\uc11c \uc0c1\ud488\ub4e4\uc744 \uc870\ud68c\ud558\ub294 \uba54\uc11c\ub4dc",id:"\uad00\ub9ac\uc790-\ud398\uc774\uc9c0\uc5d0\uc11c-\uc0c1\ud488\ub4e4\uc744-\uc870\ud68c\ud558\ub294-\uba54\uc11c\ub4dc",level:4},{value:"\uc0c1\ud488\ub9c8\ub2e4 \uc8fc\ubb38\ud55c \uc8fc\ubb38\uc0c1\uc138\ub97c \ud45c\uc2dc\ud558\ub294 \uba54\uc11c\ub4dc",id:"\uc0c1\ud488\ub9c8\ub2e4-\uc8fc\ubb38\ud55c-\uc8fc\ubb38\uc0c1\uc138\ub97c-\ud45c\uc2dc\ud558\ub294-\uba54\uc11c\ub4dc",level:4},{value:"\ucf54\ub4dc\uc758 \uad6c\uc870",id:"\ucf54\ub4dc\uc758-\uad6c\uc870",level:3},{value:"\ubb38\uc81c\uc810",id:"\ubb38\uc81c\uc810",level:3},{value:"\ud574\uacb0 \ubc29\ubc95",id:"\ud574\uacb0-\ubc29\ubc95",level:3},{value:"ID \ub9ac\uc2a4\ud2b8 \uae30\ubc18\uc758 \ubc30\uce58 \uc870\ud68c \ucd5c\uc801\ud654",id:"id-\ub9ac\uc2a4\ud2b8-\uae30\ubc18\uc758-\ubc30\uce58-\uc870\ud68c-\ucd5c\uc801\ud654",level:4},{value:"\ucf54\ub4dc \uc218\uc815",id:"\ucf54\ub4dc-\uc218\uc815",level:3},{value:"orderDataService Class \uc0dd\uc131",id:"orderdataservice-class-\uc0dd\uc131",level:4},{value:"\uac1c\uc120\ub41c \ucf54\ub4dc",id:"\uac1c\uc120\ub41c-\ucf54\ub4dc",level:4},{value:"ProductService",id:"productservice",level:5},{value:"OrderDataService",id:"orderdataservice",level:5},{value:"OrderRepository&amp;OrderDetailRepository",id:"orderrepositoryorderdetailrepository",level:4},{value:"\uac1c\uc120\ub418\uae30 \uc804 \ucf54\ub4dc\uc758 \ucffc\ub9ac",id:"\uac1c\uc120\ub418\uae30-\uc804-\ucf54\ub4dc\uc758-\ucffc\ub9ac",level:4},{value:"\uac1c\uc120\ub41c \ucf54\ub4dc\uc758 \ucffc\ub9ac (\uc218\uac00 \ud604\uc800\ud788 \uc904\uc5b4\ub4e0 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.)",id:"\uac1c\uc120\ub41c-\ucf54\ub4dc\uc758-\ucffc\ub9ac-\uc218\uac00-\ud604\uc800\ud788-\uc904\uc5b4\ub4e0-\uac83\uc744-\ud655\uc778-\ud560-\uc218-\uc788\ub2e4",level:4}];function c(e){const r={blockquote:"blockquote",br:"br",code:"code",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:["\uad00\ub9ac\uc790 \ud398\uc774\uc9c0\uc5d0\uc11c \uc0c1\ud488\ub9c8\ub2e4 \uc0dd\uae34 \uc8fc\ubb38 \uc0c1\uc138\ub97c \uc870\ud68c \ud560 \ub54c N+1 \ubb38\uc81c\uac00 \ubc1c\uc0dd \ud588\ub2e4.",(0,i.jsx)(r.br,{}),"\n","\uc0c1\ud488\uc744 \ubd88\ub7ec\uc624\uace0 \uc8fc\ubb38\uc11c\ub97c \ubd88\ub7ec\uc624\uace0 \uc8fc\ubb38 \uc0c1\uc138\ub97c \ubd88\ub7ec\uc62c \ub54c\ub9c8\ub2e4 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c \uad00\ub828 \ub370\uc774\ud130\ub4e4\uc744 \uacc4\uc18d \uc870\ud68c \ud558\uba74\uc11c \ub370\uc774\ud130\ub97c \uac00\uc838\uc628\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"productservice-\uc5d0\uc11c-\uad00\ub9ac\uc790\uc758-\uc0c1\ud488-\uc870\ud68c-\ucf54\ub4dc",children:"productService \uc5d0\uc11c \uad00\ub9ac\uc790\uc758 \uc0c1\ud488 \uc870\ud68c \ucf54\ub4dc"}),"\n",(0,i.jsx)(r.h4,{id:"productadmindto",children:"productAdminDto"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"@Getter  \npublic class ProductAdminResponse {  \n    private Long id;  \n    private String name;  \n    private Long price;  \n    private Long stock;  \n    private List<OrderDetailAdminResponse> orderDetails;  \n  \n    public ProductAdminResponse(Product product,List<OrderDetailAdminResponse> orderDetails) {  \n        this.id = product.getId();  \n        this.name = product.getName();  \n        this.price = product.getPrice();  \n        this.stock = product.getStock();  \n        this.orderDetails = orderDetails;  \n    }  \n}\n"})}),"\n",(0,i.jsx)(r.h4,{id:"\uad00\ub9ac\uc790-\ud398\uc774\uc9c0\uc5d0\uc11c-\uc0c1\ud488\ub4e4\uc744-\uc870\ud68c\ud558\ub294-\uba54\uc11c\ub4dc",children:"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0\uc5d0\uc11c \uc0c1\ud488\ub4e4\uc744 \uc870\ud68c\ud558\ub294 \uba54\uc11c\ub4dc"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"public List<ProductAdminResponse> getAdminProducts(User user, Pageable pageable) {  \n    Page<Product> productPage = productRepository.findAllByUserIdAndStateTrue(user.getId(),  \n        pageable);  \n    return getPageResponse2(productPage);  \n}\n"})}),"\n",(0,i.jsx)(r.h4,{id:"\uc0c1\ud488\ub9c8\ub2e4-\uc8fc\ubb38\ud55c-\uc8fc\ubb38\uc0c1\uc138\ub97c-\ud45c\uc2dc\ud558\ub294-\uba54\uc11c\ub4dc",children:"\uc0c1\ud488\ub9c8\ub2e4 \uc8fc\ubb38\ud55c \uc8fc\ubb38\uc0c1\uc138\ub97c \ud45c\uc2dc\ud558\ub294 \uba54\uc11c\ub4dc"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"//\uc0c1\ud488\uc744 \uc8fc\ubb38\ud55c \uc0ac\ub78c\ub4e4\uc758 \uc0c1\uc138\uc8fc\ubb38\uc11c \uc870\ud68c  \nprivate List<ProductAdminResponse> getPageResponse2(Page<Product> productPage) {  \n    return productPage.getContent().stream()  \n        .map(product -> {  \n            List<OrderDetail> orderDetails = orderAdminService.findOrderDetailsByProductId(  \n                product.getId());  \n            List<OrderDetailAdminResponse> orderDetailResponseDtos = new ArrayList<>();  \n            for (OrderDetail orderDetail : orderDetails) {  \n                Order order = orderRepository.getById(orderDetail.getOrderId());  \n                orderDetailResponseDtos.add(new OrderDetailAdminResponse(orderDetail, order));  \n            }  \n            return new ProductAdminResponse(product, orderDetailResponseDtos);  \n        })  \n        .collect(Collectors.toList());  \n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"\ucf54\ub4dc\uc758-\uad6c\uc870",children:"\ucf54\ub4dc\uc758 \uad6c\uc870"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["productPage.getContent()",":page"," \uac1d\uccb4\uc5d0\uc11c product \uac1d\uccb4\uc758 \ub9ac\uc2a4\ud2b8\ub97c \ucd94\ucd9c\ud55c\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"return productPage.getContent().stream() .map(product -> {\n"})}),"\n",(0,i.jsxs)(r.ol,{start:"2",children:["\n",(0,i.jsx)(r.li,{children:"\uadf8 \uc0c1\ud488\uc5d0 \ud574\ub2f9\ub418\ub294 \uc8fc\ubb38 \uc0c1\uc138\uc815\ubcf4\ub97c \ub9ac\uc2a4\ud2b8\ub85c \uac00\uc838\uc628\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"List<OrderDetail> orderDetails = orderAdminService.findOrderDetailsByProductId(product.getId());\n"})}),"\n",(0,i.jsxs)(r.ol,{start:"3",children:["\n",(0,i.jsx)(r.li,{children:"\uc870\ud68c\ub41c \uc8fc\ubb38 \uc0c1\uc138\uc815\ubcf4 \ub9ac\uc2a4\ud2b8\ub97c \uc21c\ud68c\ud558\uba70 \uac01 \uc8fc\ubb38\uc758 \uc0c1\uc138\uc815\ubcf4\ub4e4\uc744 \uac00\uc838\uc628\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"List<OrderDetailAdminResponse> orderDetailResponseDtos = new ArrayList<>();\nfor (OrderDetail orderDetail : orderDetails) {\n    Order order = orderRepository.getById(orderDetail.getOrderId());\n    orderDetailResponseDtos.add(new OrderDetailAdminResponse(orderDetail, order));\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"\ubb38\uc81c\uc810",children:"\ubb38\uc81c\uc810"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"\ub370\uc774\ud130\uac00 \ud55c \ub450 \uac1c\uba74 \ud06c\uac8c \ubb38\uc81c\uc5c6\uc9c0\ub9cc, \uc0c1\ud488 \uc218\uac00 200\uac1c, 1000\uac1c\ucc98\ub7fc \ub9ce\uc544\uc9c0\uba74 \ucc98\ub9ac\ud574\uc57c \ud560 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc870\ud68c\ub7c9\uc774 \uc5c4\uccad\ub098\uac8c \ub298\uc5b4\ub098\uc11c, \uc2dc\uc2a4\ud15c \uc804\uccb4\uc758 \uc131\ub2a5\uc774 \ub9ce\uc774 \ub5a8\uc5b4\uc9c8 \uc218 \uc788\ub2e4."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"\uac01 \uc0c1\ud488\uc5d0 \ub300\ud574 \uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uace0, \uac01 \uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4\ub9c8\ub2e4 \uc8fc\ubb38 \uc815\ubcf4\ub97c \ub2e4\uc2dc \uc870\ud68c\ud574\uc57c \ud574\uc11c \ub9e4 \uc0c1\ud488\ub9c8\ub2e4 \ubc1c\uc0dd\ud558\ub294 \ucd94\uac00\uc801\uc778 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud638\ucd9c\uc774 \ub9ce\uc544\uc838\uc11c \ucc98\ub9ac \uc18d\ub3c4\uac00 \ud604\uc800\ud788 \ub5a8\uc5b4\uc9c4\ub2e4."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"\uc5ec\ub7ec \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud638\ucd9c\uc774 \ud544\uc694\ud55c\ub370, \uac01 \ud638\ucd9c\uc774 \uc758\uc874\uc131\uc744 \uac16\uace0 \uc21c\ucc28\uc801\uc73c\ub85c \uc774\ub904\uc838\uc57c \ud558\ubbc0\ub85c, \ud558\ub098\uc758 \ud638\ucd9c\uc5d0\uc11c \uc9c0\uc5f0\uc774 \ubc1c\uc0dd\ud558\uba74 \uc804\uccb4 \uc751\ub2f5 \uc2dc\uac04\uc774 \uae38\uc5b4\uc9c8 \uc218 \uc788\ub2e4. \uc774\ub7ec\ud55c \uc5f0\uc1c4\uc801\uc778 \uc9c0\uc5f0\uc740 \uc0ac\uc6a9\uc790 \uacbd\ud5d8\uc744 \uc800\ud558\uc2dc\ud0ac \uc218 \uc788\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"\ud574\uacb0-\ubc29\ubc95",children:"\ud574\uacb0 \ubc29\ubc95"}),"\n",(0,i.jsx)(r.h4,{id:"id-\ub9ac\uc2a4\ud2b8-\uae30\ubc18\uc758-\ubc30\uce58-\uc870\ud68c-\ucd5c\uc801\ud654",children:"ID \ub9ac\uc2a4\ud2b8 \uae30\ubc18\uc758 \ubc30\uce58 \uc870\ud68c \ucd5c\uc801\ud654"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"ID \ub9ac\uc2a4\ud2b8 \uae30\ubc18\uc758 \ubc30\uce58(batch) \uc870\ud68c \ucd5c\uc801\ud654: OrderDetail\uacfc Order\ub97c \uac01\uac01\uc758 ID \ub9ac\uc2a4\ud2b8\ub97c \uae30\ubc18\uc73c\ub85c \ud55c \ubc30\uce58 \uc870\ud68c\ub85c \ucc98\ub9ac\ud558\uba74, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud638\ucd9c \ud69f\uc218\ub97c \ud06c\uac8c \uc904\uc77c \uc218 \uc788\ub2e4. \uc774\ub294 OrderDetail\uc744 \uc870\ud68c\ud55c \ud6c4, \uc774\ub4e4\uc5d0\uc11c \ud30c\uc0dd\ub41c Order ID\ub4e4\ub85c Order\ub97c \ud55c \ubc88\uc5d0 \uc870\ud68c\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc9c4\ud589\ub420 \uc218 \uc788\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"\ucf54\ub4dc-\uc218\uc815",children:"\ucf54\ub4dc \uc218\uc815"}),"\n",(0,i.jsx)(r.h4,{id:"orderdataservice-class-\uc0dd\uc131",children:"orderDataService Class \uc0dd\uc131"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"\uc6b0\ub9ac\ud300\uc758 \uc11c\ubc84\ub294 msa \ubc29\uc2dd\uc73c\ub85c \uc6b4\uc601\ub418\uae30 \ub54c\ubb38\uc5d0 \ub2e4\ub978 \ub3c4\uba54\uc778\uc5d0\uc11c \ud544\uc694\ud55c \uba54\uc11c\ub4dc\ub4e4\uc744 feign\uc744 \uc774\uc6a9\ud574\uc11c \uc8fc\uc785\ubc1b\uc544\uc57c \ud55c\ub2e4."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"orderService\uc5d0\uc11c productService\ub97c \uc8fc\uc785\ubc1b\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc21c\ud658\ucc38\uc870\ub97c \ubc29\uc9c0\ud558\uace0 \uc758\uc874\uc131\uc744 \ub0ae\ucd94\uae30 \uc704\ud574 orderDataService class\ub97c \uc0dd\uc131\ud574\uc11c \ud544\uc694\ud55c \uba54\uc11c\ub4dc\ub4e4\uc744 \uc791\uc131\ud55c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"\uac1c\uc120\ub41c-\ucf54\ub4dc",children:"\uac1c\uc120\ub41c \ucf54\ub4dc"}),"\n",(0,i.jsx)(r.h5,{id:"productservice",children:"ProductService"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"private List<ProductAdminResponse> getAdminPageResponse(\nPage<Product> productPage\n){  \n    // Product List ID \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c  \n    List<Long> productIds = productPage.getContent().stream().map(Product::getId).collect(Collectors.toList());  \n    List<OrderDetail> orderDetails = orderDataService.getOrderDetailListUseProductIdList(productIds);  \n    // OrderDetail \ubc30\uce58 \uc870\ud68c  \n    List<Long> orderIds = orderDataService.getOrderIdList(orderDetails);  \n    // Order \ubc30\uce58 \uc870\ud68c  \n    Map<Long,Order> orderMap = orderDataService.getOrderMap(orderIds);  \n    //productAdminResponse \uc0dd\uc131  \n    Map<Long,List<OrderDetailAdminResponse>> orderDetailsMap = orderDataService.getOrderDetailAdminResponse(orderMap,orderDetails);  \n    return productPage.getContent().stream()  \n        .map(product -> new ProductAdminResponse(product, orderDetailsMap.getOrDefault(product.getId(), Collections.emptyList())))  \n        .collect(Collectors.toList());  \n}\n"})}),"\n",(0,i.jsx)(r.h5,{id:"orderdataservice",children:"OrderDataService"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"@Service  \n@RequiredArgsConstructor  \npublic class OrderDataService {  \n    private final OrderRepository orderRepository;  \n    private final OrderDetailRepository orderDetailRepository;  \n    //**********************productService\uc5d0\uc11c \ud544\uc694\ud55c \uba54\uc11c\ub4dc**************************//  \n    public List<OrderDetail> getOrderDetailListUseProductIdList(List<Long> productIds){  \n        List<OrderDetail> orderDetails = orderDetailRepository.findByProductIdIn(productIds);  \n        return orderDetails;  \n    }  \n  \n    public List<Long> getOrderIdList(List<OrderDetail> orderDetails){  \n        List<Long> orderIds = orderDetails.stream()  \n            .map(OrderDetail::getOrderId)  \n            .distinct()  \n            .collect(Collectors.toList());  \n        return orderIds;  \n    }  \n    public Map<Long, Order> getOrderMap(List<Long> orderIds) {  \n        List<Order> orders = orderRepository.findByIdIn(orderIds);  \n        Map<Long,Order> orderMap = orders.stream().collect(Collectors.toMap(Order::getId,order -> order));  \n        return orderMap;  \n    }  \n    public Map<Long, List<OrderDetailAdminResponse>> getOrderDetailAdminResponse(Map<Long,Order> orderMap,List<OrderDetail> orderDetails) {  \n        Map<Long, List<OrderDetailAdminResponse>> orderDetailsMap = orderDetails.stream()  \n            .collect(Collectors.groupingBy(OrderDetail::getProductId,  \n                Collectors.mapping(od -> new OrderDetailAdminResponse(od, orderMap.get(od.getOrderId())), Collectors.toList())));  \n        return orderDetailsMap;  \n  \n    }  \n}\n"})}),"\n",(0,i.jsx)(r.h4,{id:"orderrepositoryorderdetailrepository",children:"OrderRepository&OrderDetailRepository"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"//\uc624\ub354 \uc544\uc774\ub514 \ub9ac\uc2a4\ud2b8\ub85c \uc624\ub354\ub97c \ud55c\ubc88\uc5d0 \uac00\uc838\uc624\ub294 \ucffc\ub9ac  \nList<Order> findByIdIn(List<Long> orderIds);\n//\ud504\ub85c\ub355\ud2b8 \uc544\uc774\ub514\ub4e4\uc758 \uc8fc\ubb38\uc11c\ub4e4\uc744 \ud55c\ubc88\uc5d0 \uac00\uc838\uc624\ub294 \ucffc\ub9ac  \nList<OrderDetail> findByProductIdIn(List<Long> productIds);\n"})}),"\n",(0,i.jsx)(r.h4,{id:"\uac1c\uc120\ub418\uae30-\uc804-\ucf54\ub4dc\uc758-\ucffc\ub9ac",children:"\uac1c\uc120\ub418\uae30 \uc804 \ucf54\ub4dc\uc758 \ucffc\ub9ac"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"Hibernate: \n    /* <criteria> */ select\n        p1_0.id,\n        p1_0.created_at,\n        p1_0.description,\n        p1_0.image_url,\n        p1_0.modified_at,\n        p1_0.name,\n        p1_0.price,\n        p1_0.state,\n        p1_0.stock,\n        p1_0.user_id \n    from\n        product p1_0 \n    where\n        p1_0.user_id=? \n        and p1_0.state \n    limit\n        ?, ?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    select\n        o1_0.id,\n        o1_0.kakao_tid,\n        o1_0.address_id,\n        o1_0.created_at,\n        o1_0.modified_at,\n        o1_0.state,\n        o1_0.user_id \n    from\n        orders o1_0 \n    where\n        o1_0.id=?\nHibernate: \n    select\n        o1_0.id,\n        o1_0.kakao_tid,\n        o1_0.address_id,\n        o1_0.created_at,\n        o1_0.modified_at,\n        o1_0.state,\n        o1_0.user_id \n    from\n        orders o1_0 \n    where\n        o1_0.id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id=?\n"})}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"\ud398\uc774\uc9d5 \ucc98\ub9ac\ub41c \uc0c1\ud488\ub4e4\uc744 \uc870\ud68c"}),": \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c \ud2b9\uc815 \uc870\uac74(\uc5ec\uae30\uc11c\ub294 ",(0,i.jsx)(r.code,{children:"user_id"}),"\uc640 \uc0c1\ud488\uc758 ",(0,i.jsx)(r.code,{children:"state"}),")\uc5d0 \ub9de\ub294 \uc0c1\ud488\ub4e4\uc744 \ud398\uc774\uc9d5 \ucc98\ub9ac\ud558\uc5ec \uc870\ud68c\ud55c\ub2e4."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"\uc0c1\ud488 ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub4e0"})," ",(0,i.jsx)(r.code,{children:"OrderDetail"})," \uc870\ud68c: \ub2e8\uacc4 1\uc5d0\uc11c \uc870\ud68c\ub41c \uac01 \uc0c1\ud488 ID\ub97c \uae30\ubc18\uc73c\ub85c \ud574\ub2f9 \uc0c1\ud488\ub4e4\uacfc \uad00\ub828\ub41c \ubaa8\ub4e0 ",(0,i.jsx)(r.code,{children:"OrderDetail"}),"\uc744 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c \uc870\ud68c\ud55c\ub2e4. \uc774 \uacfc\uc815\uc740 \uac01 \uc0c1\ud488\uc5d0 \ub300\ud55c \uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uae30 \uc704\ud574 \uc218\ud589\ub41c\ub2e4."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"OrderDetail"}),"\uc5d0\uc11c \uc5bb\uc740 ",(0,i.jsx)(r.code,{children:"Order"})," ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub4e0 ",(0,i.jsx)(r.code,{children:"Order"})," \uc870\ud68c: \uc870\ud68c\ub41c ",(0,i.jsx)(r.code,{children:"OrderDetail"}),"\ub4e4\uc774 \uac16\uace0 \uc788\ub294 ",(0,i.jsx)(r.code,{children:"Order"})," ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud574\ub2f9 \uc8fc\ubb38\ub4e4\uc758 \uc804\uccb4 \uc815\ubcf4\ub97c \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c \uc870\ud68c\ud55c\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"\uac1c\uc120\ub41c-\ucf54\ub4dc\uc758-\ucffc\ub9ac-\uc218\uac00-\ud604\uc800\ud788-\uc904\uc5b4\ub4e0-\uac83\uc744-\ud655\uc778-\ud560-\uc218-\uc788\ub2e4",children:"\uac1c\uc120\ub41c \ucf54\ub4dc\uc758 \ucffc\ub9ac (\uc218\uac00 \ud604\uc800\ud788 \uc904\uc5b4\ub4e0 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-java",children:"Hibernate: \n    /* <criteria> */ select\n        p1_0.id,\n        p1_0.created_at,\n        p1_0.description,\n        p1_0.image_url,\n        p1_0.modified_at,\n        p1_0.name,\n        p1_0.price,\n        p1_0.state,\n        p1_0.stock,\n        p1_0.user_id \n    from\n        product p1_0 \n    where\n        p1_0.user_id=? \n        and p1_0.state \n    limit\n        ?, ?\nHibernate: \n    /* <criteria> */ select\n        od1_0.id,\n        od1_0.order_id,\n        od1_0.price,\n        od1_0.product_id,\n        od1_0.product_name,\n        od1_0.quantity,\n        od1_0.reviewed \n    from\n        order_detail od1_0 \n    where\n        od1_0.product_id in (?, ?, ?, ?, ?, ?, ?, ?)\nHibernate: \n    /* <criteria> */ select\n        o1_0.id,\n        o1_0.kakao_tid,\n        o1_0.address_id,\n        o1_0.created_at,\n        o1_0.modified_at,\n        o1_0.state,\n        o1_0.user_id \n    from\n        orders o1_0 \n    where\n        o1_0.id in (?, ?)\n\n"})}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"\ud398\uc774\uc9d5 \ucc98\ub9ac\ub41c \uc0c1\ud488\ub4e4\uc744 \uc870\ud68c"}),": \uc774 \ucffc\ub9ac\ub294 \ud2b9\uc815 \uc0ac\uc6a9\uc790(",(0,i.jsx)(r.code,{children:"user_id"}),")\uac00 \uc18c\uc720\ud558\uace0 \uc788\ub294 \ud65c\uc131 \uc0c1\ud0dc(",(0,i.jsx)(r.code,{children:"state"}),")\uc758 \uc0c1\ud488\ub4e4\uc744 \uc870\ud68c\ud55c\ub2e4. \uacb0\uacfc\ub294 \ud398\uc774\uc9d5 \ucc98\ub9ac\ub97c \ud1b5\ud574 \uc81c\ud55c\ub41c\ub2e4. \uc774\ub294 \uc77c\ubc18\uc801\uc73c\ub85c \uc0ac\uc6a9\uc790\uc758 \uc0c1\ud488 \ubaa9\ub85d\uc744 \ubcf4\uc5ec\uc904 \ub54c \uc0ac\uc6a9\ub41c\ub2e4."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"\uc8fc\ubb38 \uc0c1\uc138 \uc870\ud68c \ucffc\ub9ac"}),": \uc774 \ucffc\ub9ac\ub294 \ud2b9\uc815 \uc0c1\ud488 ID\ub4e4\uc5d0 \ub300\ud55c \ubaa8\ub4e0 \uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4\ub97c \uc870\ud68c\ud55c\ub2e4. ",(0,i.jsx)(r.code,{children:"product_id"})," \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uc5ec\ub7ec \uc0c1\ud488\uc5d0 \ub300\ud55c \uc8fc\ubb38 \uc0c1\uc138\ub97c \ud55c \ubc88\uc758 \ucffc\ub9ac\ub85c \ubd88\ub7ec\uc628\ub2e4. \uc774\ub294 \uc0c1\ud488 ID \ub9ac\uc2a4\ud2b8\ub97c \uae30\ubc18\uc73c\ub85c \ud574\ub2f9 \uc0c1\ud488\ub4e4\uc774 \ud3ec\ud568\ub41c \uc8fc\ubb38\ub4e4\uc758 \uc0c1\uc138 \uc815\ubcf4\ub97c \uac00\uc838\uc62c \ub54c \uc0ac\uc6a9\ub41c\ub2e4."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"\uc8fc\ubb38 \uc870\ud68c \ucffc\ub9ac"}),": \uc774 \ucffc\ub9ac\ub294 \ud2b9\uc815 \uc8fc\ubb38 ID \ub9ac\uc2a4\ud2b8\ub97c \uae30\ubc18\uc73c\ub85c \ud574\ub2f9 \uc8fc\ubb38\ub4e4\uc758 \uc0c1\uc138 \uc815\ubcf4\ub97c \uc870\ud68c\ud55c\ub2e4. \uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4\uc5d0\uc11c \uc5bb\uc740 ",(0,i.jsx)(r.code,{children:"order_id"}),"\ub4e4\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc5f0\uad00\ub41c \uc8fc\ubb38\uc758 \ubaa8\ub4e0 \uc815\ubcf4\ub97c \ud55c \ubc88\uc5d0 \uac00\uc838\uc628\ub2e4. \uc774\ub294 \uc8fc\ubb38 \ucc98\ub9ac \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ud2b9\uc815 \uc8fc\ubb38\ub4e4\uc5d0 \ub300\ud55c \uc0c1\uc138 \uc815\ubcf4\ub97c \ubcf4\uc5ec\uc904 \ud544\uc694\uac00 \uc788\uc744 \ub54c \uc0ac\uc6a9\ub41c\ub2e4."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);