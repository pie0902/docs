"use strict";(globalThis.webpackChunkmy_portfolio=globalThis.webpackChunkmy_portfolio||[]).push([[78045],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var r=t(96540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},84888:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/dev/java/\ucffc\ub9ac-\uc2e4\ud589-\ubc29\uc2dd\uc5d0-\ub530\ub978-\uce74\ub4dc-\uc870\ud68c-\uc131\ub2a5-\ube44\uad50","source":"@site/blog/dev/java/\ucffc\ub9ac-\uc2e4\ud589-\ubc29\uc2dd\uc5d0-\ub530\ub978-\uce74\ub4dc-\uc870\ud68c-\uc131\ub2a5-\ube44\uad50.md","title":"\ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc5d0 \ub530\ub978 \uce74\ub4dc \uc870\ud68c \uc131\ub2a5 \ube44\uad50","description":"Card \uc5d4\ud2f0\ud2f0","date":"2024-03-24T00:00:00.000Z","tags":[{"inline":false,"label":"Dev","permalink":"/docs/blog/tags/dev","description":"\uac1c\ubc1c \uc2e4\uc804 \ub178\ud2b8"},{"inline":false,"label":"Java/SpringBoot","permalink":"/docs/blog/tags/dev/java-springboot","description":"Java/Spring Boot \uad00\ub828 \uae00"},{"inline":false,"label":"Database","permalink":"/docs/blog/tags/cs/database","description":"\ub370\uc774\ud130\ubca0\uc774\uc2a4"},{"inline":false,"label":"Java","permalink":"/docs/blog/tags/dev/java","description":"Java \uad00\ub828 \uae00"},{"inline":false,"label":"SQL","permalink":"/docs/blog/tags/cs/database/sql","description":"SQL"},{"inline":false,"label":"Testing","permalink":"/docs/blog/tags/dev/testing","description":"\ud14c\uc2a4\ud2b8/\ud14c\uc2a4\ud2b8\ucf54\ub4dc"}],"readingTime":2.7,"hasTruncateMarker":false,"authors":[{"name":"thunder","title":"\uac1c\ubc1c\uc790","url":"https://github.com/pie0902","page":{"permalink":"/docs/blog/authors/thunder"},"socials":{"github":"https://github.com/pie0902"},"key":"thunder"}],"frontMatter":{"title":"\ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc5d0 \ub530\ub978 \uce74\ub4dc \uc870\ud68c \uc131\ub2a5 \ube44\uad50","date":"2024-03-24T00:00:00.000Z","authors":["thunder"],"tags":["dev","java-springboot","database","java","sql","testing"]},"unlisted":false,"prevItem":{"title":"2024.03.25 \ud2b8\ub810\ub85c \uad6c\ud604 / \ud300 \ud504\ub85c\uc81d\ud2b8","permalink":"/docs/blog/2024/03/25/til/\ud2b8\ub810\ub85c-\uad6c\ud604-\ud300-\ud504\ub85c\uc81d\ud2b8"},"nextItem":{"title":"2024.02.28 Room/\ud300 \ud504\ub85c\uc81d\ud2b8","permalink":"/docs/blog/2024/02/28/dev/java/room-\ud300-\ud504\ub85c\uc81d\ud2b8"}}')},87453:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>o});var r=t(84888),i=t(74848),s=t(28453);const a={title:"\ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc5d0 \ub530\ub978 \uce74\ub4dc \uc870\ud68c \uc131\ub2a5 \ube44\uad50",date:new Date("2024-03-24T00:00:00.000Z"),authors:["thunder"],tags:["dev","java-springboot","database","java","sql","testing"]},l=void 0,d={authorsImageUrls:[void 0]},o=[{value:"Card \uc5d4\ud2f0\ud2f0",id:"card-\uc5d4\ud2f0\ud2f0",level:3},{value:"\ucffc\ub9ac \ubc29\uc2dd",id:"\ucffc\ub9ac-\ubc29\uc2dd",level:3},{value:"\uc131\ub2a5 \uce21\uc815 \ucf54\ub4dc",id:"\uc131\ub2a5-\uce21\uc815-\ucf54\ub4dc",level:3},{value:"\ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc5d0 \ub530\ub978 \uce74\ub4dc \uc870\ud68c \uc131\ub2a5 \ube44\uad50 \uacb0\uacfc \uc815\ub9ac",id:"\ucffc\ub9ac-\uc2e4\ud589-\ubc29\uc2dd\uc5d0-\ub530\ub978-\uce74\ub4dc-\uc870\ud68c-\uc131\ub2a5-\ube44\uad50-\uacb0\uacfc-\uc815\ub9ac",level:3},{value:"1. \uae30\ubcf8 Repository \uba54\uc18c\ub4dc \uc0ac\uc6a9 (findAll())",id:"1-\uae30\ubcf8-repository-\uba54\uc18c\ub4dc-\uc0ac\uc6a9-findall",level:3},{value:"2. JPQL\uc744 \ud65c\uc6a9\ud55c DTO \uc9c1\uc811 \ub9e4\ud551",id:"2-jpql\uc744-\ud65c\uc6a9\ud55c-dto-\uc9c1\uc811-\ub9e4\ud551",level:3},{value:"3. Fetch Join \uc0ac\uc6a9",id:"3-fetch-join-\uc0ac\uc6a9",level:3},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:3}];function c(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"card-\uc5d4\ud2f0\ud2f0",children:"Card \uc5d4\ud2f0\ud2f0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Table(name="card")  \npublic class Card extends BaseEntity {  \n    @Id  \n    @GeneratedValue(strategy = GenerationType.IDENTITY)  \n    private long id;  \n    private String title;  \n    private String content;  \n    @Column(name = "deadline", nullable = true)  \n    private LocalDateTime deadline;  \n  \n    @ManyToOne  \n    @JoinColumn(name = "user_id")  \n    private User user;  \n  \n    @ManyToOne  \n    @JoinColumn(name = "column_id")  \n    private Bar bar;  \n  \n  \n    //\ubb38\uc790\uc5f4 \ud615\uc2dd\uc758 \ub0a0\uc9dc ex)20240319 \ub97c LocalDateTime \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658\n    \n    public Card(User user, Bar bar,CardRequest cardRequest) {  \n        this.title = cardRequest.getTitle();  \n        this.content = cardRequest.getContent();  \n        this.user = user;  \n        this.bar = bar;  \n        if (cardRequest.getDeadline() != null &&\n         !cardRequest.getDeadline().isEmpty()) {  \n            DateTimeFormatter formatter = \n            DateTimeFormatter.ofPattern("yyyyMMdd");  \n            LocalDate date = LocalDate.parse(cardRequest.getDeadline(), \n            formatter);  \n            this.deadline = date.atStartOfDay();\n            // LocalDate\ub97c LocalDateTime\uc73c\ub85c \ubcc0\ud658  \n        }  \n    }  \n    public void updateCard(CardRequest cardRequest){  \n        this.title = cardRequest.getTitle();  \n        this.content = cardRequest.getContent();  \n\tif(cardRequest.getDeadline()!=null&&!cardRequest.getDeadline().isEmpty()){ \n            DateTimeFormatter formatter = \n            DateTimeFormatter.ofPattern("yyyyMMdd");  \n            LocalDate date = LocalDate.parse(cardRequest.getDeadline(), \n            formatter);  \n            this.deadline = date.atStartOfDay(); \n            // LocalDate\ub97c LocalDateTime\uc73c\ub85c \ubcc0\ud658  \n        }  \n    }\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc804\uccb4 \uce74\ub4dc\ub97c \uc870\ud68c\ud560\ub54c \ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc5d0 \ub530\ub978 \uc2e4\ud589 \uc2dc\uac04\uc744 \uce21\uc815\ud574\ubd24\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\ucffc\ub9ac-\ubc29\uc2dd",children:"\ucffc\ub9ac \ubc29\uc2dd"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1.Controller\uc5d0\uc11c Service\ub97c \ud638\ucd9c\ud558\uc5ec Repository\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ubc29\uc2dd(findAll( )\uc0ac\uc6a9)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'//Controller\n    @GetMapping("/cards")  \n    public ResponseEntity<List<CardResponse>> getAllCards() {  \n        List<CardResponse> cardList = cardService.getAllCards();  \n        return ResponseEntity.ok().body(cardList);\n    }\n//Service\n    public List<CardResponse> getAllCards() {  \n      List<CardResponse> cardList = cardRepository.findAll()  \n           .stream().map(CardResponse::new).toList();  \n        return cardList;  \n    }\n    \nList com.sparta.trellowiththreeipeople.card.service.CardService.getAllCards() executed in 12ms\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2.\ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c\ubd80\ud130 \uce74\ub4dc \uc815\ubcf4\ub97c \uc870\ud68c\ud558\uace0, \uc774\ub97c CardDTO \uac1d\uccb4\ub85c \ub9e4\ud551\ud558\ub294 \ubc29\uc2dd"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'//Controller\n@GetMapping("/cards")  \npublic ResponseEntity<List<CardDTO>> getAllCards() {  \n    List<CardDTO> cardList = cardService.getAllCards();  \n    return ResponseEntity.ok().body(cardList);  \n}\n//Service\npublic List<CardDTO> getAllCards() {  \n    List<CardDTO> cardList = cardRepository.findAllCardsWithDTO();  \n    return cardList;  \n}\n//Repository\n@Query("SELECT new com.sparta.trellowiththreeipeople.card.dto.CardDTO(c.id, c.title, c.content, c.deadline) FROM Card c")  \nList<CardDTO> findAllCardsWithDTO();\n\nList com.sparta.trellowiththreeipeople.card.service.CardService.getAllCards() executed in 2ms\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3.Fetch,Join\uc744 \uc0ac\uc6a9\ud55c \ubc29\uc2dd"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'//Repository\n@Query("SELECT DISTINCT c FROM Card c JOIN FETCH c.user u JOIN FETCH c.bar b WHERE c.deletedAt IS NULL")  \nList<Card> findAllWithUserAndBar();\n\nList com.sparta.trellowiththreeipeople.card.service.CardService.getAllCards() executed in 7ms\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\uc131\ub2a5-\uce21\uc815-\ucf54\ub4dc",children:"\uc131\ub2a5 \uce21\uc815 \ucf54\ub4dc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Around("execution(* com.sparta.trellowiththreeipeople.card.service.CardService.*(..))")  \npublic Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {  \n    long start = System.currentTimeMillis();  \n    Object proceed = joinPoint.proceed();  \n    long executionTime = System.currentTimeMillis() - start;  \n    System.out.println(joinPoint.getSignature() + " executed in " +\n\texecutionTime + "ms");  \n    return proceed;  \n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\ucffc\ub9ac-\uc2e4\ud589-\ubc29\uc2dd\uc5d0-\ub530\ub978-\uce74\ub4dc-\uc870\ud68c-\uc131\ub2a5-\ube44\uad50-\uacb0\uacfc-\uc815\ub9ac",children:"\ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc5d0 \ub530\ub978 \uce74\ub4dc \uc870\ud68c \uc131\ub2a5 \ube44\uad50 \uacb0\uacfc \uc815\ub9ac"}),"\n",(0,i.jsxs)(n.p,{children:["\uce74\ub4dc \uc815\ubcf4 \uc870\ud68c\uc5d0 \uc788\uc5b4 \ub2e4\uc591\ud55c \ucffc\ub9ac \uc2e4\ud589 \ubc29\uc2dd\uc744 \ud14c\uc2a4\ud2b8\ud558\uc5ec \uc131\ub2a5\uc744 \uce21\uc815\ud574\ubcf8 \uacb0\uacfc, \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c\ubd80\ud130 \uc9c1\uc811 \uce74\ub4dc \uc815\ubcf4\ub97c \uc870\ud68c\ud558\uace0 \uc774\ub97c ",(0,i.jsx)(n.code,{children:"CardDTO"})," \uac1d\uccb4\ub85c \ub9e4\ud551\ud558\ub294 \ubc29\uc2dd\uc774 \uac00\uc7a5 \ube60\ub978 \uc2e4\ud589 \uc2dc\uac04\uc744 \ubcf4\uc600\ub2e4. \uac01 \ubc29\uc2dd\ubcc4\ub85c \uc131\ub2a5\uc744 \uce21\uc815\ud55c \uacb0\uacfc\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4:"]}),"\n",(0,i.jsx)(n.h3,{id:"1-\uae30\ubcf8-repository-\uba54\uc18c\ub4dc-\uc0ac\uc6a9-findall",children:"1. \uae30\ubcf8 Repository \uba54\uc18c\ub4dc \uc0ac\uc6a9 (findAll())"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubc29\uc2dd \uc124\uba85"}),": ",(0,i.jsx)(n.code,{children:"Controller"}),"\uc5d0\uc11c ",(0,i.jsx)(n.code,{children:"Service"}),"\ub97c \ud638\ucd9c\ud558\uc5ec ",(0,i.jsx)(n.code,{children:"Repository"}),"\uc758 ",(0,i.jsx)(n.code,{children:"findAll()"})," \uba54\uc18c\ub4dc\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ubc29\uc2dd."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\uc2e4\ud589 \uc2dc\uac04"}),": 12ms"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\uc774 \ubc29\uc2dd\uc740 JPA\uc758 \uae30\ubcf8 \uc81c\uacf5 \uba54\uc18c\ub4dc\ub97c \ud65c\uc6a9\ud558\uc5ec \uc804\uccb4 \uce74\ub4dc \uc815\ubcf4\ub97c \uc870\ud68c\ud55c\ub2e4. \uc870\ud68c\ud55c \uc5d4\ud2f0\ud2f0\ub97c ",(0,i.jsx)(n.code,{children:"CardResponse"})," DTO\ub85c \ubcc0\ud658\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ucd94\uac00\uc801\uc778 \uc2dc\uac04\uc774 \uc18c\uc694\ub41c\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-jpql\uc744-\ud65c\uc6a9\ud55c-dto-\uc9c1\uc811-\ub9e4\ud551",children:"2. JPQL\uc744 \ud65c\uc6a9\ud55c DTO \uc9c1\uc811 \ub9e4\ud551"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubc29\uc2dd \uc124\uba85"}),": \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c\ubd80\ud130 \uce74\ub4dc \uc815\ubcf4\ub97c \uc870\ud68c\ud558\uace0, \uc774\ub97c ",(0,i.jsx)(n.code,{children:"CardDTO"})," \uac1d\uccb4\ub85c \uc9c1\uc811 \ub9e4\ud551\ud558\ub294 \ubc29\uc2dd."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\uc2e4\ud589 \uc2dc\uac04"}),": 2ms"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\uc774 \ubc29\uc2dd\uc740 JPQL \ucffc\ub9ac\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud544\uc694\ud55c \ub370\uc774\ud130\ub9cc \uc120\ud0dd\uc801\uc73c\ub85c \uc870\ud68c\ud558\uace0, \uc870\ud68c\ub41c \uacb0\uacfc\ub97c \ubc14\ub85c ",(0,i.jsx)(n.code,{children:"CardDTO"})," \uac1d\uccb4\ub85c \ub9e4\ud551\ud55c\ub2e4 \ub370\uc774\ud130 \ubcc0\ud658 \uacfc\uc815\uc774 \ucd5c\uc18c\ud654\ub418\uba70, \uc2e4\ud589 \uc2dc\uac04\uc774 \uac00\uc7a5 \ube60\ub974\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-fetch-join-\uc0ac\uc6a9",children:"3. Fetch Join \uc0ac\uc6a9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubc29\uc2dd \uc124\uba85"}),": ",(0,i.jsx)(n.code,{children:"Fetch Join"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc5f0\uad00\ub41c ",(0,i.jsx)(n.code,{children:"User"}),"\uc640 ",(0,i.jsx)(n.code,{children:"Bar"})," \uc5d4\ud2f0\ud2f0\ub97c \ud3ec\ud568\ud558\uc5ec \uce74\ub4dc \uc815\ubcf4\ub97c \uc870\ud68c\ud558\ub294 \ubc29\uc2dd."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\uc2e4\ud589 \uc2dc\uac04"}),": 7ms"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\ubd84\uc11d"}),": ",(0,i.jsx)(n.code,{children:"Fetch Join"}),"\uc744 \uc0ac\uc6a9\ud558\uba74 \uc5f0\uad00 \uc5d4\ud2f0\ud2f0\ub97c \ud55c \ubc88\uc758 \ucffc\ub9ac\ub85c \ud568\uaed8 \ub85c\ub529\ud560 \uc218 \uc788\uc5b4\uc11c \uc131\ub2a5\uc774 \uac1c\uc120\ub41c\ub2e4. \ud558\uc9c0\ub9ccDTO\ub85c\uc758 \uc9c1\uc811 \ub9e4\ud551 \ubc29\uc2dd\uc5d0 \ube44\ud574 \ub290\ub9ac\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),"\n",(0,i.jsxs)(n.p,{children:["\uce74\ub4dc \uc815\ubcf4 \uc870\ud68c \uc131\ub2a5 \uce21\uc815 \uacb0\uacfc, ",(0,i.jsx)(n.strong,{children:"\uc9c1\uc811 DTO \ub9e4\ud551 \ubc29\uc2dd"}),"\uc774 2ms\uc758 \uc2e4\ud589 \uc2dc\uac04\uc73c\ub85c \uac00\uc7a5 \ube60\ub974\ub2e4. \uc774 \ubc29\uc2dd\uc740 \ud544\uc694\ud55c \ub370\uc774\ud130\ub9cc \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c\ubd80\ud130 \uc870\ud68c\ud558\uace0, \ucd94\uac00\uc801\uc778 \ubcc0\ud658 \uacfc\uc815 \uc5c6\uc774 \ubc14\ub85c DTO \uac1d\uccb4\ub85c \ub9e4\ud551\ud558\uae30 \ub54c\ubb38\uc5d0 \uac00\uc7a5 \uc2e4\ud589\uc2dc\uac04\uc774 \ube60\ub974\ub2e4. \ub530\ub77c\uc11c, \uc131\ub2a5 \ucd5c\uc801\ud654\uac00 \uc911\uc694\ud55c \uc0c1\ud669\uc5d0\uc11c\ub294 \uc774 \ubc29\uc2dd\uc744 \ud65c\uc6a9\ud560\uc218 \uc788\uc744 \uac83 \uac19\ub2e4."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);