"use strict";(globalThis.webpackChunkmy_portfolio=globalThis.webpackChunkmy_portfolio||[]).push([[89928],{23792:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>a});var t=i(89239),s=i(74848),l=i(28453);const o={title:"2.Redis\ub97c \uc0ac\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4",date:new Date("2024-04-08T00:00:00.000Z"),authors:["thunder"],tags:["til","database","https","java","jpa","jwt","network","os","redis","spring","testing"]},c=void 0,r={authorsImageUrls:[void 0]},a=[{value:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\ub780?",id:"\ub3d9\uc2dc\uc131-\uc81c\uc5b4\ub780",level:2},{value:"\ubd84\uc0b0 \ub77d\uc744 \uc774\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4",id:"\ubd84\uc0b0-\ub77d\uc744-\uc774\uc6a9\ud55c-\ub3d9\uc2dc\uc131-\uc81c\uc5b4",level:2},{value:"\uc0ac\uc6a9\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac",id:"\uc0ac\uc6a9\ud55c-\ub77c\uc774\ube0c\ub7ec\ub9ac",level:2},{value:"\uc2e4\uc2b5\ucf54\ub4dc",id:"\uc2e4\uc2b5\ucf54\ub4dc",level:2},{value:"Post Entity",id:"post-entity",level:3},{value:"Post Service(\uc88b\uc544\uc694 \uad00\ub828 \uae30\ub2a5)",id:"post-service\uc88b\uc544\uc694-\uad00\ub828-\uae30\ub2a5",level:3},{value:"\ud14c\uc2a4\ud2b8 \ucf54\ub4dc",id:"\ud14c\uc2a4\ud2b8-\ucf54\ub4dc",level:3},{value:"\uacb0\uacfc",id:"\uacb0\uacfc",level:2},{value:"\ub2e8\uc21c \uc88b\uc544\uc694 \uc99d\uac00 \ucf54\ub4dc \uacb0\uacfc",id:"\ub2e8\uc21c-\uc88b\uc544\uc694-\uc99d\uac00-\ucf54\ub4dc-\uacb0\uacfc",level:3},{value:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4 \uc88b\uc544\uc694 \uc99d\uac00 \ucf54\ub4dc \uacb0\uacfc",id:"\ub3d9\uc2dc\uc131-\uc81c\uc5b4-\uc88b\uc544\uc694-\uc99d\uac00-\ucf54\ub4dc-\uacb0\uacfc",level:3},{value:"\uac1c\ubc1c \uc911 \uc9c1\uba74\ud55c \ubb38\uc81c\uc810",id:"\uac1c\ubc1c-\uc911-\uc9c1\uba74\ud55c-\ubb38\uc81c\uc810",level:2},{value:"\ud574\uacb0\ucc45",id:"\ud574\uacb0\ucc45",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/pie0902/TIL/blob/main/Spring/SpringBootPractices/redis-lock/1.Redis%EB%A5%BC%20%EC%82%AC%EC%9A%A9%ED%95%9C%20%EB%8F%99%EC%8B%9C%EC%84%B1%20%EC%A0%9C%EC%96%B4.md",children:"GitHub \ub9c1\ud06c"})}),"\n",(0,s.jsx)(n.h2,{id:"\ub3d9\uc2dc\uc131-\uc81c\uc5b4\ub780",children:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\ub780?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\ub294 \uc5ec\ub7ec \uc0ac\uc6a9\uc790 \ub610\ub294 \ud504\ub85c\uc138\uc2a4\uac00 \ub3d9\uc2dc\uc5d0 \ub370\uc774\ud130\uc5d0 \uc811\uadfc\ud560 \ub54c \ub370\uc774\ud130\uc758 \uc77c\uad00\uc131\uacfc \ubb34\uacb0\uc131\uc744 \uc720\uc9c0\ud558\uae30 \uc704\ud55c \uae30\uc220\uc774\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ubd84\uc0b0-\ub77d\uc744-\uc774\uc6a9\ud55c-\ub3d9\uc2dc\uc131-\uc81c\uc5b4",children:"\ubd84\uc0b0 \ub77d\uc744 \uc774\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uac8c\uc2dc\uae00 CRUD \ub97c \uac04\ub2e8\ud558\uac8c \uad6c\ud604\ud558\uace0 \uac8c\uc2dc\uae00\uc5d0 \uc88b\uc544\uc694 \uae30\ub2a5\uc744 \ucd94\uac00"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"parallel() \uba54\uc11c\ub4dc\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubcd1\ub82c \ucc98\ub9ac\ub97c \ud1b5\ud574 \uc88b\uc544\uc694 \uae30\ub2a5 \uc218\ud589."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uac01 \uc88b\uc544\uc694 \ud074\ub9ad \uc774\ubca4\ud2b8\uac00 \uac8c\uc2dc\uae00\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uae30 \uc804\uc5d0 \ubd84\uc0b0 \ub77d\uc744 \ud68d\ub4dd\ud558\uc5ec \ub370\uc774\ud130 \uc77c\uad00\uc131 \uc720\uc9c0."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ucc98\ub9ac\uac00 \ub05d\ub09c \ud6c4 \ub77d \ud574\uc81c\ud558\uc5ec \ub2e4\uc74c \uc774\ubca4\ud2b8 \ucc98\ub9ac \uac00\ub2a5\ud558\ub3c4\ub85d \ud568."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\uc0ac\uc6a9\ud55c-\ub77c\uc774\ube0c\ub7ec\ub9ac",children:"\uc0ac\uc6a9\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"redissonClient"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\uc2e4\uc2b5\ucf54\ub4dc",children:"\uc2e4\uc2b5\ucf54\ub4dc"}),"\n",(0,s.jsx)(n.h3,{id:"post-entity",children:"Post Entity"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"@Entity\n@Getter\n@EntityListeners(AuditingEntityListener.class)\n@NoArgsConstructor\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String title;\n    private String content;\n    private int likeCount;\n    @CreatedDate\n    private LocalDateTime createdAt;\n\n    public Post(PostRequest postRequest) {\n        this.title = postRequest.getTitle();\n        this.content = postRequest.getContent();\n        this.likeCount = 0;\n    }\n    public void updatePost(PostRequest postRequest){\n        this.title = postRequest.getTitle();\n        this.content = postRequest.getContent();\n    }\n    public void setCount(int likeCount){\n        this.likeCount = likeCount;\n    }\n\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"post-service\uc88b\uc544\uc694-\uad00\ub828-\uae30\ub2a5",children:"Post Service(\uc88b\uc544\uc694 \uad00\ub828 \uae30\ub2a5)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'   //\uc88b\uc544\uc694 \ucd08\uae30\ud654\n    @Transactional\n    public void reset(){\n        Post post = postRepository.findById(1L).orElseThrow(()->new IllegalArgumentException("\uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."));\n        post.setCount(0);\n        postRepository.save(post);\n    }\n    //\ub808\ub514\uc2a4 \ub77d\uc744 \uc774\uc6a9\ud55c \uc88b\uc544\uc694 \uc99d\uac00\n    //\ubd84\uc0b0 \ub77d\uc744 \ud68d\ub4dd\ud558\ub294 \uba54\uc11c\ub4dc\n    public PostResponse updateLikeUsingLock(Long id) {\n        //\ub77d \ud0a4\n        RLock lock = redissonClient.getFairLock(LOCK_KEY);\n        boolean isLocked = false;\n        try {\n            // \ub77d \ud68d\ub4dd \uc2dc\ub3c4\n            isLocked = lock.tryLock(10, 60, TimeUnit.SECONDS);\n            if (isLocked) {\n                // \ub77d \ud68d\ub4dd\uc5d0 \uc131\uacf5\ud558\uba74, \ud2b8\ub79c\uc7ad\uc158\uc744 \ud3ec\ud568\ud558\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc791\uc5c5\uc744 \uc218\ud589\n                return postLikeService.updateLikeCount(id);\n            } else {\n                // \ub77d \ud68d\ub4dd\uc5d0 \uc2e4\ud328\ud558\uba74 \uc608\uc678 \ubc1c\uc0dd\n                throw new IllegalStateException("\uc7a0\uae08\uc744 \ud68d\ub4dd\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.");\n            }\n        } catch (InterruptedException e) {\n            // \ud604\uc7ac \uc2a4\ub808\ub4dc\uac00 \uc7a0\uae08\uc744 \ud68d\ub4dd\ud558\ub294 \ub3d9\uc548 \uc778\ud130\ub7fd\ud2b8 \ubc1c\uc0dd. \uc2a4\ub808\ub4dc\uc5d0 \uc778\ud130\ub7fd\ud2b8 \uc0c1\ud0dc\ub97c \uc124\uc815\ud558\uace0 \uc608\uc678\ub97c \ub358\uc9d0.\n            Thread.currentThread().interrupt();\n            throw new IllegalStateException("\uc7a0\uae08 \ud68d\ub4dd \uc911\ub2e8", e);\n        } finally {\n            if (isLocked) {\n                // \ubc18\ub4dc\uc2dc \ub77d \ud574\uc81c\n                lock.unlock();\n            }\n        }\n    }\n    //\ub808\ub514\uc2a4 \uce90\uc2dc \ub370\uc774\ud130 \uc0ad\uc81c\n    public void deleteCache(Long postKey) {\n        String Key = "post: " + postKey;\n        stringRedisTemplate.delete(Key);\n    }\n    //\uc88b\uc544\uc694 \ucd9c\ub825 \ucf54\ub4dc\n    public void printCount() {\n        System.out.println("\\n\\n\\n====================\\n");\n        System.out.println(postRepository.findById(1L).orElseThrow().getLikeCount());\n        System.out.println("\\n====================\\n\\n\\n");\n    }\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\ud14c\uc2a4\ud2b8-\ucf54\ub4dc",children:"\ud14c\uc2a4\ud2b8 \ucf54\ub4dc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@SpringBootTest\npublic class PostServiceTest {\n    private PostRequest postRequest;\n    @Autowired\n    private PostService postService;\n    @BeforeEach\n    void set() {\n        postRequest = new PostRequest("test", "content");\n        postService.create(postRequest);\n    }\n    @AfterEach\n    void reset() {\n        postService.reset();\n    }\n\n    @Test\n    @DisplayName("\ub2e8\uc21c \uc88b\uc544\uc694 \uc99d\uac00 \ucf54\ub4dc")\n    void test() {\n        IntStream.range(0, 100).parallel().forEach(i -> postService.updateLike(1L));\n        System.out.println("\\n\\n\\n\\n[\ud14c\uc2a4\ud2b8]");\n        postService.printCount();\n    }\n\n    @Test\n    @DisplayName("\ub3d9\uc2dc\uc131 \uc81c\uc5b4")\n    void test2() {\n        IntStream.range(0, 100).parallel().forEach(i -> postService.updateLikeUsingLock(1L));\n        System.out.println("\\n\\n\\n\\n[\ud14c\uc2a4\ud2b8]");\n        postService.printCount();\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\uacb0\uacfc",children:"\uacb0\uacfc"}),"\n",(0,s.jsx)(n.h3,{id:"\ub2e8\uc21c-\uc88b\uc544\uc694-\uc99d\uac00-\ucf54\ub4dc-\uacb0\uacfc",children:"\ub2e8\uc21c \uc88b\uc544\uc694 \uc99d\uac00 \ucf54\ub4dc \uacb0\uacfc"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uc608\uc0c1 \uc88b\uc544\uc694 \uc218: 100"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uc2e4\uc81c \uc88b\uc544\uc694 \uc218: X (17)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ubd84\uc11d: \ub3d9\uc2dc\uc131 \uc81c\uc5b4\uac00 \uc5c6\uc744 \uacbd\uc6b0 X\ud68c\ub9cc\ud07c\uc758 \uc88b\uc544\uc694\uac00 \uc815\uc0c1 \ubc18\uc601\ub428. \uc774\ub294 \ubcd1\ub82c \ucc98\ub9ac \uc911 \ubc1c\uc0dd\ud558\ub294 \uacbd\uc7c1 \uc0c1\ud669\uc5d0 \uc758\ud574 \uc88b\uc544\uc694 \uc218\uac00 \uc190\uc2e4\ub428\uc744 \uc54c\uc218\uc788\uc74c."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://private-user-images.githubusercontent.com/47919911/318541579-3abd0e92-b3b6-4c4c-8148-c5199b2eec29.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQzNjAxNTYsIm5iZiI6MTcxNDM1OTg1NiwicGF0aCI6Ii80NzkxOTkxMS8zMTg1NDE1NzktM2FiZDBlOTItYjNiNi00YzRjLTgxNDgtYzUxOTliMmVlYzI5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDI5VDAzMDQxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTI2NTE3YmRkOGFkOTU2NTc0ZDY3YTEzMTQ5MTdiNThjZjQzODgyYjY4MDBlNjY3YTUyNTg5ZTdiYmEzYjIwZTgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.ni-jHrgQxURyuJPZpoTe-VHDeHxkpL6RdsTrvGQ6nFg",children:(0,s.jsx)(n.img,{src:"https://private-user-images.githubusercontent.com/47919911/318541579-3abd0e92-b3b6-4c4c-8148-c5199b2eec29.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQzNjAxNTYsIm5iZiI6MTcxNDM1OTg1NiwicGF0aCI6Ii80NzkxOTkxMS8zMTg1NDE1NzktM2FiZDBlOTItYjNiNi00YzRjLTgxNDgtYzUxOTliMmVlYzI5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDI5VDAzMDQxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTI2NTE3YmRkOGFkOTU2NTc0ZDY3YTEzMTQ5MTdiNThjZjQzODgyYjY4MDBlNjY3YTUyNTg5ZTdiYmEzYjIwZTgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.ni-jHrgQxURyuJPZpoTe-VHDeHxkpL6RdsTrvGQ6nFg",alt:"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2024-04-02 \u110b\u1169\u110c\u1165\u11ab 3 57 14"})})}),"\n",(0,s.jsx)(n.h3,{id:"\ub3d9\uc2dc\uc131-\uc81c\uc5b4-\uc88b\uc544\uc694-\uc99d\uac00-\ucf54\ub4dc-\uacb0\uacfc",children:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4 \uc88b\uc544\uc694 \uc99d\uac00 \ucf54\ub4dc \uacb0\uacfc"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uc608\uc0c1 \uc88b\uc544\uc694 \uc218: 100"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uc2e4\uc81c \uc88b\uc544\uc694 \uc218: Y (100)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ubd84\uc11d: \ubd84\uc0b0 \ub77d\uc744 \uc0ac\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4\uac00 \uc62c\ubc14\ub974\uac8c \uc791\ub3d9\ud558\uc5ec, \ubaa8\ub4e0 \ubcd1\ub82c \ucc98\ub9ac\uac00 \uc815\ud655\ud558\uac8c \ubc18\uc601\ub418\uc5b4 Y\ud68c\uc758 \uc88b\uc544\uc694\uac00 \uc815\uc0c1 \ubc18\uc601\ub428."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://private-user-images.githubusercontent.com/47919911/318541690-0e101ca5-0531-4f86-9c6c-d89fadee0622.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQzNjAxNTYsIm5iZiI6MTcxNDM1OTg1NiwicGF0aCI6Ii80NzkxOTkxMS8zMTg1NDE2OTAtMGUxMDFjYTUtMDUzMS00Zjg2LTljNmMtZDg5ZmFkZWUwNjIyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDI5VDAzMDQxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIyNmIyYzQwNmViZmU4MWQyOWY2YmViZmI2MDdhZDUxZDYwNDI0NzVjNzRlZDdjMWQ5ZDNhY2M4M2Q4Zjk0NjQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.5HDiv8NviW3pmdNNiHUzj-VvEFse4L66aL75K-FPGb0",children:(0,s.jsx)(n.img,{src:"https://private-user-images.githubusercontent.com/47919911/318541690-0e101ca5-0531-4f86-9c6c-d89fadee0622.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQzNjAxNTYsIm5iZiI6MTcxNDM1OTg1NiwicGF0aCI6Ii80NzkxOTkxMS8zMTg1NDE2OTAtMGUxMDFjYTUtMDUzMS00Zjg2LTljNmMtZDg5ZmFkZWUwNjIyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA0MjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNDI5VDAzMDQxNlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIyNmIyYzQwNmViZmU4MWQyOWY2YmViZmI2MDdhZDUxZDYwNDI0NzVjNzRlZDdjMWQ5ZDNhY2M4M2Q4Zjk0NjQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.5HDiv8NviW3pmdNNiHUzj-VvEFse4L66aL75K-FPGb0",alt:"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2024-04-02 \u110b\u1169\u110c\u1165\u11ab 4 05 48"})})}),"\n",(0,s.jsx)(n.h2,{id:"\uac1c\ubc1c-\uc911-\uc9c1\uba74\ud55c-\ubb38\uc81c\uc810",children:"\uac1c\ubc1c \uc911 \uc9c1\uba74\ud55c \ubb38\uc81c\uc810"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uacb0\uacfc \uac12\uc774 100\uc774 \ub098\uc640\uc57c \ud558\ub294\ub370 50\uc774 \ub098\uc624\ub294 \ubb38\uc81c \ubc1c\uc0dd"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ud574\uacb0\ucc45",children:"\ud574\uacb0\ucc45"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\uae30\uc874\uc5d0\ub294 \ub77d \ud68d\ub4dd\uacfc \ub370\uc774\ud130 \ucc98\ub9ac \ub85c\uc9c1\uc774 \ud568\uaed8 \uc788\uc5b4 \ub3d9\uc2dc\uc131 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uc5ec \uacb0\uacfc\uac00 50\uc774 \ub098\uc654\ub2e4."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ub370\uc774\ud130 \ucc98\ub9ac \ub85c\uc9c1\uc744 \ubcc4\ub3c4\uc758 \uc11c\ube44\uc2a4 \ud074\ub798\uc2a4\ub85c \ubd84\ub9ac\ud558\uace0 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc801\uc6a9\ud558\uc5ec \ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc640 \ub370\uc774\ud130 \uc77c\uad00\uc131\uc744 \ubcf4\uc7a5\ud568\uc73c\ub85c\uc368 \ubb38\uc81c\ub97c \ud574\uacb0\ud588\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\n@RequiredArgsConstructor\npublic class PostLikeService {\n\n    private final PostRepository postRepository;\n\n    @Transactional\n    public PostResponse updateLikeCount(Long id) {\n        Post post = postRepository.findById(id)\n            .orElseThrow(() -> new IllegalStateException("Post not found with id: " + id));\n        post.setCount(post.getLikeCount() + 1);\n        postRepository.save(post);\n        return new PostResponse(post);\n    }\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var t=i(96540);const s={},l=t.createContext(s);function o(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(l.Provider,{value:n},e.children)}},89239:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/til/2-redis\ub97c-\uc0ac\uc6a9\ud55c-\ub3d9\uc2dc\uc131-\uc81c\uc5b4","source":"@site/blog/til/2-redis\ub97c-\uc0ac\uc6a9\ud55c-\ub3d9\uc2dc\uc131-\uc81c\uc5b4.md","title":"2.Redis\ub97c \uc0ac\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4","description":"GitHub \ub9c1\ud06c","date":"2024-04-08T00:00:00.000Z","tags":[{"inline":false,"label":"TIL","permalink":"/docs/blog/tags/til","description":"\ud559\uc2b5\uae30\ub85d"},{"inline":false,"label":"Database","permalink":"/docs/blog/tags/cs/database","description":"\ub370\uc774\ud130\ubca0\uc774\uc2a4"},{"inline":false,"label":"HTTPS","permalink":"/docs/blog/tags/cs/network/https","description":"HTTPS/TLS"},{"inline":false,"label":"Java","permalink":"/docs/blog/tags/dev/java","description":"Java \uad00\ub828 \uae00"},{"inline":false,"label":"JPA","permalink":"/docs/blog/tags/dev/spring/jpa","description":"JPA/Hibernate"},{"inline":false,"label":"JWT","permalink":"/docs/blog/tags/dev/auth/jwt","description":"JWT \uc778\uc99d/\uc778\uac00"},{"inline":false,"label":"Network","permalink":"/docs/blog/tags/cs/network","description":"\ub124\ud2b8\uc6cc\ud06c"},{"inline":false,"label":"OS","permalink":"/docs/blog/tags/cs/os","description":"\uc6b4\uc601\uccb4\uc81c"},{"inline":false,"label":"Redis","permalink":"/docs/blog/tags/cs/database/redis","description":"Redis"},{"inline":false,"label":"Spring","permalink":"/docs/blog/tags/dev/spring","description":"Spring/Spring Boot"},{"inline":false,"label":"Testing","permalink":"/docs/blog/tags/dev/testing","description":"\ud14c\uc2a4\ud2b8/\ud14c\uc2a4\ud2b8\ucf54\ub4dc"}],"readingTime":3.19,"hasTruncateMarker":false,"authors":[{"name":"thunder","title":"\uac1c\ubc1c\uc790","url":"https://github.com/pie0902","page":{"permalink":"/docs/blog/authors/thunder"},"socials":{"github":"https://github.com/pie0902"},"key":"thunder"}],"frontMatter":{"title":"2.Redis\ub97c \uc0ac\uc6a9\ud55c \ub3d9\uc2dc\uc131 \uc81c\uc5b4","date":"2024-04-08T00:00:00.000Z","authors":["thunder"],"tags":["til","database","https","java","jpa","jwt","network","os","redis","spring","testing"]},"unlisted":false,"prevItem":{"title":"3.\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uacaa\uc740 \ubb38\uc81c \ud574\uacb0 \uacfc\uc815","permalink":"/docs/blog/til/3-\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc5d0\uc11c-\uacaa\uc740-\ubb38\uc81c-\ud574\uacb0-\uacfc\uc815"},"nextItem":{"title":"TIL: 2024-04-07 \uc77c\uc694\uc77c","permalink":"/docs/blog/2024/04/07/til/til-\uc77c\uc694\uc77c"}}')}}]);