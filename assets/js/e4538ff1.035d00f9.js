"use strict";(globalThis.webpackChunkmy_portfolio=globalThis.webpackChunkmy_portfolio||[]).push([[37973],{6141:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/cs/database/6-mysql-subquery\uc640-join","source":"@site/blog/cs/database/6-mysql-subquery\uc640-join.md","title":"6.MySQL - Subquery\uc640 Join","description":"\uc11c\ube0c\ucffc\ub9ac\ub780)","date":"2023-12-19T00:00:00.000Z","tags":[{"inline":false,"label":"CS","permalink":"/docs/blog/tags/cs","description":"CS \ub178\ud2b8"},{"inline":false,"label":"Database","permalink":"/docs/blog/tags/cs/database","description":"\ub370\uc774\ud130\ubca0\uc774\uc2a4"},{"inline":false,"label":"MySQL","permalink":"/docs/blog/tags/cs/database/mysql","description":"MySQL"},{"inline":false,"label":"SQL","permalink":"/docs/blog/tags/cs/database/sql","description":"SQL"}],"readingTime":1.36,"hasTruncateMarker":false,"authors":[{"name":"thunder","title":"\uac1c\ubc1c\uc790","url":"https://github.com/pie0902","page":{"permalink":"/docs/blog/authors/thunder"},"socials":{"github":"https://github.com/pie0902"},"key":"thunder"}],"frontMatter":{"title":"6.MySQL - Subquery\uc640 Join","date":"2023-12-19T00:00:00.000Z","authors":["thunder"],"tags":["cs","database","mysql","sql"]},"unlisted":false,"prevItem":{"title":"4.Java \uc870\uac74\ubb38","permalink":"/docs/blog/dev/java/4-java-\uc870\uac74\ubb38"},"nextItem":{"title":"3.Java \ubb38\uc790\ud615 \ube44\uad50","permalink":"/docs/blog/dev/java/3-java-\ubb38\uc790\ud615-\ube44\uad50"}}')},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(96540);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}},67498:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var a=t(6141),r=t(74848),s=t(28453);const o={title:"6.MySQL - Subquery\uc640 Join",date:new Date("2023-12-19T00:00:00.000Z"),authors:["thunder"],tags:["cs","database","mysql","sql"]},i=void 0,l={authorsImageUrls:[void 0]},d=[];function c(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"select order_id, restaurant_name, if(over_time>=0, over_time, 0) over_time\nfrom \n(\nselect order_id, restaurant_name, food_preparation_time-25 over_time\nfrom food_orders\n) a\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uc11c\ube0c\ucffc\ub9ac\ub780)"}),"\n",(0,r.jsx)(n.p,{children:"\uc774\ub7f0\uc2dd\uc73c\ub85c ()\ub85c \ubb36\uc5b4\uc11c \uc870\uac74\uc744 \uc9c0\uc815\ud574\uc900\ub2e4\uc74c"}),"\n",(0,r.jsx)(n.p,{children:"\uadf8 \uc704\uc5d0 SELECT\ubb38\uc5d0\uc11c \uc870\uac74\ubb38\uc744 \ud55c\ubc88\ub354 \uc9c0\uc815\ud574\uc90c\uc73c\ub85c\uc368 \uac00\ub3c5\uc131\uc744 \ud5a5\uc0c1\uc2dc\ud0ac\uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'-- 1) [\uc2e4\uc2b5] \uc74c\uc2dd\uc810\uc758 \ud3c9\uade0 \ub2e8\uac00\ubcc4 segmentation \uc744 \uc9c4\ud589\ud558\uace0, \uadf8\ub8f9\uc5d0 \ub530\ub77c \uc218\uc218\ub8cc \uc5f0\uc0b0\ud558\uae30\n    --   (\uc218\uc218\ub8cc \uad6c\uac04 -\n   --   ~5000\uc6d0 \ubbf8\ub9cc 0.05%\n   --   ~20000\uc6d0 \ubbf8\ub9cc 1%\n   --   ~30000\uc6d0 \ubbf8\ub9cc 2%\n   --   30000\uc6d0 \ucd08\uacfc 3%)\n\n\n\nSELECT restaurant_name,\n\t\tavgg*ppri "\uc218\uc218\ub8cc"\t\t\nFROM \n(\nSELECT restaurant_name,\n\t   CASE WHEN avgg <5000 then 0.005\n\t \t\tWHEN avgg between 5000 and 19999 then 0.01\n\t \t\tWHEN avgg between 20000 and 29999 then 0.02\n\t \t\telse 0.03 end ppri,\n\t \t\tavgg\nFROM\n(\nSELECT restaurant_name, avg(price/quantity) avgg\nFROM food_orders\ngroup by 1\n)a\n)b\n\n\n-- 2) [\uc2e4\uc2b5] \uc74c\uc2dd\uc810\uc758 \uc9c0\uc5ed\uacfc \ud3c9\uade0 \ubc30\ub2ec\uc2dc\uac04\uc73c\ub85c segmentation \ud558\uae30\n\n\nSELECT restaurant_name,\n      "\uc2dc\ub3c4",\n      case when \ud3c9\uade0\ubc30\ub2ec\uc2dc\uac04<=20 then "20\ubd84\uc774\ud558"\n           when \ud3c9\uade0\ubc30\ub2ec\uc2dc\uac04>20 and "\ud3c9\uade0\ubc30\ub2ec\uc2dc\uac04"<=30 then "20\uc5d0\uc11c 30\ubd84\uc0ac\uc774"\n           when \ud3c9\uade0\ubc30\ub2ec\uc2dc\uac04>30 then "30\ubd84\uc774\uc0c1" end "\ubc30\uc18c\uc694\uc2dc\uac04"      \nfrom\n(\nSELECT restaurant_name,\n\t   SUBSTR(addr,1,2) \uc2dc\ub3c4,\n\t   avg(delivery_time) \ud3c9\uade0\ubc30\ub2ec\uc2dc\uac04\nfrom food_orders\ngroup by 1\n)a\n'})}),"\n",(0,r.jsx)(n.p,{children:"\ud544\uc694\ud55c \ub370\uc774\ud130\uac00 \uc11c\ub85c \ub2e4\ub978 \ud14c\uc774\ube14\uc5d0 \uc788\uc744 \ub54c \uc870\ud68c\ud558\uae30 (JOIN)"}),"\n",(0,r.jsx)(n.p,{children:"JOIN \uc758 \uae30\ubcf8 \uad6c\uc870"}),"\n",(0,r.jsx)(n.p,{children:"SQL"}),"\n",(0,r.jsx)(n.p,{children:"-- LEFT JOIN"}),"\n",(0,r.jsx)(n.p,{children:"select \uc870\ud68c \ud560 \uceec\ub7fc"}),"\n",(0,r.jsx)(n.p,{children:"from \ud14c\uc774\ube141 a left join \ud14c\uc774\ube142 b on a.\uacf5\ud1b5\uceec\ub7fc\uba85=b.\uacf5\ud1b5\uceec\ub7fc\uba85"}),"\n",(0,r.jsx)(n.p,{children:"-- INNER JOIN"}),"\n",(0,r.jsx)(n.p,{children:"select \uc870\ud68c \ud560 \uceec\ub7fc"}),"\n",(0,r.jsx)(n.p,{children:"from \ud14c\uc774\ube141 a inner join \ud14c\uc774\ube142 b on a.\uacf5\ud1b5\uceec\ub7fc\uba85=b.\uacf5\ud1b5\uceec\ub7fc\uba85"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'[\uc2e4\uc2b5] \ud55c\uad6d \uc74c\uc2dd\uc758 \uc8fc\ubb38\ubcc4 \uacb0\uc81c \uc218\ub2e8\uacfc \uc218\uc218\ub8cc\uc728\uc744 \uc870\ud68c\ud558\uae30\nSELECT a.order_id,\n\t   a.restaurant_name,\n\t   a.price,\n       b.pay_type,\n       b.vat \nFROM food_orders a left join payments b on a.order_id = b.order_id\nwhere cuisine_type = "Korean"\n\n[\uc2e4\uc2b5] \uace0\uac1d\uc758 \uc8fc\ubb38 \uc2dd\ub2f9 \uc870\ud68c\ud558\uae30\nSELECT distinct a.name,\n       a.age,\n       a.gender,\n       b.restaurant_name\nfrom customers a inner join food_orders b on a.customer_id = b.customer_id\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);