"use strict";(globalThis.webpackChunkmy_portfolio=globalThis.webpackChunkmy_portfolio||[]).push([[31953],{3574:e=>{e.exports=JSON.parse('{"permalink":"/docs/blog/til/\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc5d0\uc11c-\uc8fc\ubb38-\ucde8\uc18c-\ud1b5\ubcf4-amazon-ses\ub97c-\ud65c\uc6a9\ud55c-\uba54\uc77c-\uc804\uc1a1-\uc804\ub7b5","source":"@site/blog/til/\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc5d0\uc11c-\uc8fc\ubb38-\ucde8\uc18c-\ud1b5\ubcf4-amazon-ses\ub97c-\ud65c\uc6a9\ud55c-\uba54\uc77c-\uc804\uc1a1-\uc804\ub7b5.md","title":"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ud1b5\ubcf4: Amazon SES\ub97c \ud65c\uc6a9\ud55c \uba54\uc77c \uc804\uc1a1 \uc804\ub7b5","description":"Amazon SimpleEmailService\ub780?","date":"2024-10-16T00:00:00.000Z","tags":[{"inline":false,"label":"TIL","permalink":"/docs/blog/tags/til","description":"\ud559\uc2b5\uae30\ub85d"},{"inline":false,"label":"AWS","permalink":"/docs/blog/tags/infra/aws","description":"AWS"},{"inline":false,"label":"HTTPS","permalink":"/docs/blog/tags/cs/network/https","description":"HTTPS/TLS"},{"inline":false,"label":"Java","permalink":"/docs/blog/tags/dev/java","description":"Java \uad00\ub828 \uae00"},{"inline":false,"label":"Network","permalink":"/docs/blog/tags/cs/network","description":"\ub124\ud2b8\uc6cc\ud06c"}],"readingTime":4.79,"hasTruncateMarker":false,"authors":[{"name":"thunder","title":"\uac1c\ubc1c\uc790","url":"https://github.com/pie0902","page":{"permalink":"/docs/blog/authors/thunder"},"socials":{"github":"https://github.com/pie0902"},"key":"thunder"}],"frontMatter":{"title":"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ud1b5\ubcf4: Amazon SES\ub97c \ud65c\uc6a9\ud55c \uba54\uc77c \uc804\uc1a1 \uc804\ub7b5","date":"2024-10-16T00:00:00.000Z","authors":["thunder"],"tags":["til","aws","https","java","network"]},"unlisted":false,"prevItem":{"title":"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uacaa\uc740 \ubb38\uc81c \ud574\uacb0 \uacfc\uc815","permalink":"/docs/blog/til/\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc5d0\uc11c-\uacaa\uc740-\ubb38\uc81c-\ud574\uacb0-\uacfc\uc815"},"nextItem":{"title":"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc640 \uc2a4\ucf00\uc904\ub9c1\uc744 \ud1b5\ud55c \ud6a8\uacfc\uc801\uc778 \uc8fc\ubb38 \ubc0f \uc7ac\uace0 \uad00\ub9ac \uc804\ub7b5","permalink":"/docs/blog/til/\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc640-\uc2a4\ucf00\uc904\ub9c1\uc744-\ud1b5\ud55c-\ud6a8\uacfc\uc801\uc778-\uc8fc\ubb38-\ubc0f-\uc7ac\uace0-\uad00\ub9ac-\uc804\ub7b5"}}')},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var l=i(96540);const s={},t=l.createContext(s);function r(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(t.Provider,{value:n},e.children)}},81741:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var l=i(3574),s=i(74848),t=i(28453);const r={title:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ud1b5\ubcf4: Amazon SES\ub97c \ud65c\uc6a9\ud55c \uba54\uc77c \uc804\uc1a1 \uc804\ub7b5",date:new Date("2024-10-16T00:00:00.000Z"),authors:["thunder"],tags:["til","aws","https","java","network"]},d="\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ud1b5\ubcf4: Amazon SES\ub97c \ud65c\uc6a9\ud55c \uba54\uc77c \uc804\uc1a1 \uc804\ub7b5",a={authorsImageUrls:[void 0]},c=[{value:"Amazon SimpleEmailService\ub780?",id:"amazon-simpleemailservice\ub780",level:2},{value:"\uc8fc\uc694 \uae30\ub2a5",id:"\uc8fc\uc694-\uae30\ub2a5",level:2},{value:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ud1b5\ubcf4\ub97c \ud560 \ub54c \uace0\ub824\ud574\uc57c \ud560 \uc0c1\ud669",id:"\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc5d0\uc11c-\uc8fc\ubb38-\ucde8\uc18c-\ud1b5\ubcf4\ub97c-\ud560-\ub54c-\uace0\ub824\ud574\uc57c-\ud560-\uc0c1\ud669",level:2},{value:"\uc815\ub9ac",id:"\uc815\ub9ac",level:2},{value:"\uc8fc\ubb38 \ucc98\ub9ac \ubc0f \uc54c\ub9bc \ud750\ub984",id:"\uc8fc\ubb38-\ucc98\ub9ac-\ubc0f-\uc54c\ub9bc-\ud750\ub984",level:3},{value:"\ud574\uacb0\ucc45",id:"\ud574\uacb0\ucc45",level:2},{value:"\uad6c\ud604 \uc608\uc2dc",id:"\uad6c\ud604-\uc608\uc2dc",level:3},{value:"\ucf54\ub4dc",id:"\ucf54\ub4dc",level:2},{value:"Amazon ses\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c config \uc0dd\uc131",id:"amazon-ses\ub97c-\uc0ac\uc6a9\ud558\uae30-\uc704\ud55c-config-\uc0dd\uc131",level:3},{value:"EmailService \ud074\ub798\uc2a4 \uc0dd\uc131",id:"emailservice-\ud074\ub798\uc2a4-\uc0dd\uc131",level:3}];function o(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"amazon-simpleemailservice\ub780",children:"Amazon SimpleEmailService\ub780?"}),"\n",(0,s.jsx)(n.p,{children:"AWS Simple Email Service (SES)\ub294 \uc544\ub9c8\uc874 \uc6f9 \uc11c\ube44\uc2a4(AWS)\uac00 \uc81c\uacf5\ud558\ub294 \ud655\uc7a5 \uac00\ub2a5\ud55c \uc774\uba54\uc77c \uc804\uc1a1 \uc11c\ube44\uc2a4\ub2e4. \uc774 \uc11c\ube44\uc2a4\ub294 \uae30\uc5c5\uc774 \ub9c8\ucf00\ud305, \uc54c\ub9bc, \ud2b8\ub79c\uc7ad\uc158 \uc774\uba54\uc77c\uc744 \uc190\uc27d\uac8c \ubcf4\ub0bc \uc218 \uc788\ub3c4\ub85d \uc124\uacc4\ub418\uc5c8\ub2e4. AWS SES\ub294 \ub192\uc740 \uc804\ub2ec\uc131, \uac15\ub825\ud55c \uc778\uc99d \uae30\ub2a5, \uadf8\ub9ac\uace0 \uad11\ubc94\uc704\ud55c \ubaa8\ub2c8\ud130\ub9c1\uc73c\ub85c \uc774\uba54\uc77c \uad00\ub9ac\uc758 \ubcf5\uc7a1\uc131\uc744 \uac10\uc18c\uc2dc\ucf1c \uc900\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"\uc8fc\uc694-\uae30\ub2a5",children:"\uc8fc\uc694 \uae30\ub2a5"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\uc774\uba54\uc77c \uc804\uc1a1: AWS SES\ub97c \uc0ac\uc6a9\ud558\uba74 HTML \ub610\ub294 \uc77c\ubc18 \ud14d\uc2a4\ud2b8 \ud3ec\ub9f7\uc758 \uc774\uba54\uc77c\uc744 \uc804\uc1a1\ud560 \uc218 \uc788\ub2e4. \uc774\uba54\uc77c\uc740 \uac1c\ubcc4\uc801\uc73c\ub85c \ub610\ub294 \ub300\ub7c9\uc73c\ub85c \uc804\uc1a1\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\uc774\uba54\uc77c \uc218\uc2e0: SES\ub294 \uc774\uba54\uc77c \uc218\uc2e0 \uae30\ub2a5\ub3c4 \uc81c\uacf5\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790\ub294 SES\ub97c \uc774\uc6a9\ud574 \uc774\uba54\uc77c\uc744 \ubc1b\uace0, \ud574\ub2f9 \uc774\uba54\uc77c\uc5d0 \ub300\ud55c \ucc98\ub9ac \uc791\uc5c5\uc744 \uc790\ub3d9\uc73c\ub85c \uc218\ud589\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\uc720\uc5f0\ud55c \uc774\uba54\uc77c \ucc98\ub9ac: \uc774\uba54\uc77c\uc744 \ubcf4\ub0b4\uace0 \ubc1b\ub294 \uacfc\uc815\uc5d0\uc11c \ub2e4\uc591\ud55c SNS \ud1a0\ud53d(Simple Notification Service)\uc73c\ub85c \uc54c\ub9bc\uc744 \uc124\uc815\ud558\uac70\ub098, Lambda \ud568\uc218\ub97c \ud1b5\ud574 \uc774\uba54\uc77c \ub0b4\uc6a9\uc744 \ucc98\ub9ac\ud558\uace0 \ubd84\uc11d\ud560 \uc218 \uc788\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"SPAM \ubc0f \ubc14\uc774\ub7ec\uc2a4 \ud544\ud130\ub9c1: AWS SES\ub294 \ubcf4\ub0b4\ub294 \uc774\uba54\uc77c\uc5d0 \ub300\ud574 \uc790\ub3d9\uc73c\ub85c \uc2a4\ud338 \ubc0f \ubc14\uc774\ub7ec\uc2a4 \ud544\ud130\ub9c1\uc744 \uc218\ud589\ud558\uc5ec, \uc774\uba54\uc77c\uc774 \uc218\uc2e0\uc790\uc758 \uc815\ud06c \ud3f4\ub354\ub85c \ubd84\ub958\ub418\ub294 \uac83\uc744 \ucd5c\uc18c\ud654\ud55c\ub2e4."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\uc0ac\uc6a9\ubc95\uc740 \ub530\ub85c \uc791\uc131\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub420 \uc815\ub3c4\ub85c \uc27d\ub2e4"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ub3d9\uc2dc\uc131-\uc81c\uc5b4\uc5d0\uc11c-\uc8fc\ubb38-\ucde8\uc18c-\ud1b5\ubcf4\ub97c-\ud560-\ub54c-\uace0\ub824\ud574\uc57c-\ud560-\uc0c1\ud669",children:"\ub3d9\uc2dc\uc131 \uc81c\uc5b4\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ud1b5\ubcf4\ub97c \ud560 \ub54c \uace0\ub824\ud574\uc57c \ud560 \uc0c1\ud669"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uc0c1\ud488\uba85"}),(0,s.jsx)(n.th,{children:"\uc218\ub7c9"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\uc74c\ub8cc\uc218"}),(0,s.jsx)(n.td,{children:"100\uac1c"})]})})]}),"\n",(0,s.jsx)(n.p,{children:"\uc608\uc2dc)200\uba85\uc758 \uc720\uc800\uac00 \ub3d9\uc2dc\uc5d0 \uc74c\ub8cc\uc218\ub97c 1\uac1c\uc529 \uc8fc\ubb38\ud55c \uc0c1\ud669"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"100\uba85\uc758 \uc720\uc800\ub294 \uc8fc\ubb38\uc5d0 \uc131\uacf5\ud568"}),"\n",(0,s.jsx)(n.li,{children:"100\uba85\uc758 \uc720\uc800\ub294 \uc8fc\ubb38\uc5d0 \uc2e4\ud328\ud568 -> 100\uba85\ud55c\ud14c \uc7ac\uace0\uac00 \ubd80\uc871\ud558\ub2e4\uace0 \uba54\uc77c \ubcf4\ub0c4"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\uc774\ud6c4 \uc0c1\ud669)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"100\uba85\uc758 \uc131\uacf5 \uc720\uc800\uc911\uc5d0\uc11c 50\uba85\uc774 \uacb0\uc81c\ub97c \ud558\uace0 50\uba85\uc740 5\ubd84\ub3d9\uc548 \uacb0\uc81c\ub97c \uc548\ud574\uc11c \ucde8\uc18c\ub428"}),"\n",(0,s.jsx)(n.li,{children:'50\uba85\uc758 \uc720\uc800\ub294 \uc0c1\ud0dc\uac00 "\uacb0\uc81c\uc644\ub8cc"\ub85c \ubcc0\uacbd'}),"\n",(0,s.jsx)(n.li,{children:'50\uba85\uc758 \uc720\uc800\ub294 \uc0c1\ud0dc\uac00 "\uc8fc\ubb38\ucde8\uc18c"\ub85c \ubcc0\uacbd -> 50\uba85\ud55c\ud14c 5\ubd84\ub3d9\uc548 \uc8fc\ubb38\uc744 \uc548\ud574\uc11c \ucde8\uc18c \ub410\ub2e4\uace0 \uba54\uc77c \ubcf4\ub0c4'}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\uc0c1\ud488\uba85"}),(0,s.jsx)(n.th,{children:"\uc218\ub7c9"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\uc74c\ub8cc\uc218"}),(0,s.jsx)(n.td,{children:"50\uac1c"})]})})]}),"\n",(0,s.jsx)(n.p,{children:"\uadf8\ub807\ub2e4\uba74 \ub098\uba38\uc9c0 100\uba85\ud55c\ud14c \uc7ac\uace0\uac00 \uc5c5\ub370\uc774\ud2b8 \ub410\ub2e4\uace0 \uba54\uc77c\uc744 \ubcf4\ub0b4\uc57c\ud568.\n\uc8fc\ubb38\uc740 \uc120\ucc29\uc21c\uc774\ub77c\ub294 \uac83\uc744 \uacf5\uc9c0\ud574\uc57c\ud568"}),"\n",(0,s.jsx)(n.h2,{id:"\uc815\ub9ac",children:"\uc815\ub9ac"}),"\n",(0,s.jsx)(n.h3,{id:"\uc8fc\ubb38-\ucc98\ub9ac-\ubc0f-\uc54c\ub9bc-\ud750\ub984",children:"\uc8fc\ubb38 \ucc98\ub9ac \ubc0f \uc54c\ub9bc \ud750\ub984"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc8fc\ubb38 \ucd08\uae30 \ucc98\ub9ac"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"200\uba85\uc758 \uc720\uc800\uac00 \ub3d9\uc2dc\uc5d0 \uc74c\ub8cc\uc218\ub97c 1\uac1c\uc529 \uc8fc\ubb38\ud55c\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"\uc2dc\uc2a4\ud15c\uc740 \ubd84\uc0b0\ub77d\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc7ac\uace0\ub97c \uad00\ub9ac\ud55c\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:"100\uba85\uc758 \uc720\uc800\ub294 \uc8fc\ubb38\uc5d0 \uc131\uacf5\ud558\uace0, \ub098\uba38\uc9c0 100\uba85\uc740 \uc7ac\uace0 \ubd80\uc871\uc73c\ub85c \uc8fc\ubb38\uc5d0 \uc2e4\ud328\ud55c\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:'\uc2e4\ud328\ud55c 100\uba85\uc5d0\uac8c\ub294 "\uc7ac\uace0 \ubd80\uc871\uc73c\ub85c \uc8fc\ubb38\uc774 \uc2e4\ud328\ud588\ub2e4"\ub294 \ub0b4\uc6a9\uc758 \uba54\uc77c\uc744 \ubc1c\uc1a1\ud55c\ub2e4.'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uacb0\uc81c \ucc98\ub9ac \ubc0f \uc8fc\ubb38 \ucd5c\uc885\ud654"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'\uc131\uacf5\uc801\uc73c\ub85c \uc8fc\ubb38\ud55c 100\uba85 \uc911 50\uba85\uc774 \uacb0\uc81c\ub97c \uc644\ub8cc\ud55c\ub2e4. \uc774\ub4e4\uc758 \uc8fc\ubb38 \uc0c1\ud0dc\ub294 "\uacb0\uc81c\uc644\ub8cc"\ub85c \ubcc0\uacbd\ub41c\ub2e4.'}),"\n",(0,s.jsx)(n.li,{children:'\ub098\uba38\uc9c0 50\uba85\uc740 5\ubd84 \ub3d9\uc548 \uacb0\uc81c\ub97c \uc644\ub8cc\ud558\uc9c0 \uc54a\uc544 \uc790\ub3d9\uc73c\ub85c \uc8fc\ubb38\uc774 \ucde8\uc18c\ub41c\ub2e4. \uc774\ub4e4\uc758 \uc8fc\ubb38 \uc0c1\ud0dc\ub294 "\uc8fc\ubb38\ucde8\uc18c"\ub85c \ubcc0\uacbd\ub418\uba70, "5\ubd84 \ub0b4\uc5d0 \uacb0\uc81c\uac00 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc544 \uc8fc\ubb38\uc774 \ucde8\uc18c\ub418\uc5c8\ub2e4"\ub294 \ub0b4\uc6a9\uc758 \uba54\uc77c\uc744 \ubc1c\uc1a1\ud55c\ub2e4.'}),"\n",(0,s.jsx)(n.li,{children:"\uc8fc\ubb38 \ucde8\uc18c\ub85c \uc778\ud574 \uc7ac\uace0\ub294 \ub2e4\uc2dc 50\uac1c\ub85c \uc5c5\ub370\uc774\ud2b8 \ub41c\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uc54c\ub9bc"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc7ac\uace0\uac00 \ubd80\uc871\ud574\uc11c \uc8fc\ubb38\uc774 \ucde8\uc18c\ub41c \uc720\uc800\uc758 ID\uc640 \uc0c1\ud488 ID\ub97c \ub808\ub514\uc2a4\uc5d0 24\uc2dc\uac04 \ub3d9\uc548 \uc800\uc7a5\uc744 \ud55c\ub2e4."}),"\n",(0,s.jsx)(n.li,{children:'\uc7ac\uace0\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uba74 \uc5c5\ub370\uc774\ud2b8\ub41c \uc0ac\uc2e4\uc744 \uc774\uc804\uc5d0 \uc2e4\ud328\ud588\ub358 100\uba85\uc758 \uc720\uc800\ub97c \ub808\ub514\uc2a4\uc5d0\uc11c \uc870\ud68c\ud574\uc11c, "\uc7ac\uace0\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc73c\ub2c8 \uc8fc\ubb38\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4"\ub77c\ub294 \ub0b4\uc6a9\uc758 \uba54\uc77c\uc744 \ubc1c\uc1a1\ud55c\ub2e4. \uc774 \uba54\uc77c\uc740 \uc7ac\uace0\uac00 \ub2e4\uc2dc \ube68\ub9ac \uc18c\uc9c4\ub420 \uc218 \uc788\uc73c\ubbc0\ub85c \uc120\ucc29\uc21c\uc73c\ub85c \uc8fc\ubb38\ud558\ub77c\ub294 \ub0b4\uc6a9\ub3c4 \ud3ec\ud568\ud560 \uc218 \uc788\ub2e4.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ud574\uacb0\ucc45",children:"\ud574\uacb0\ucc45"}),"\n",(0,s.jsx)(n.h3,{id:"\uad6c\ud604-\uc608\uc2dc",children:"\uad6c\ud604 \uc608\uc2dc"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/pie0902/TIL/assets/47919911/4378d323-9a09-4ab4-8f2f-99ea041da6ac",alt:"\u1109\u1173\u110f\u1173\u1105\u1175\u11ab\u1109\u1163\u11ba 2024-04-22 \u110b\u1169\u1112\u116e 9 31 37"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc0c1\ud0dc \uc815\uc758"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NOTPAYED"}),": \uc8fc\ubb38\uc774 \uc0dd\uc131\ub418\uc5c8\uc73c\ub098 \uc544\uc9c1 \uacb0\uc81c\uac00 \uc774\ub8e8\uc5b4\uc9c0\uc9c0 \uc54a\uc740 \uc0c1\ud0dc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PREPARING"}),": \uacb0\uc81c\uac00 \uc644\ub8cc\ub418\uc5b4 \uc8fc\ubb38 \uc900\ube44 \uc911\uc778 \uc0c1\ud0dc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SHIPPING"}),": \uc0c1\ud488\uc774 \ubc30\uc1a1 \uc911\uc778 \uc0c1\ud0dc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DELIVERED"}),": \uc0c1\ud488\uc774 \ubc30\uc1a1 \uc644\ub8cc\ub41c \uc0c1\ud0dc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CANCELLED"}),": \ub2e4\ub978 \uc6d0\uc778\uc73c\ub85c \uc778\ud55c \uc77c\ubc18\uc801\uc778 \uc8fc\ubb38 \ucde8\uc18c \uc0c1\ud0dc."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\uc0c1\ud0dc \uc804\ud658 \ub85c\uc9c1"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\uc8fc\ubb38 \uc2dc ",(0,s.jsx)(n.code,{children:"NOTPAYED"})," \uc0c1\ud0dc\ub85c \uc124\uc815."]}),"\n",(0,s.jsxs)(n.li,{children:["5\ubd84 \ub0b4 \uacb0\uc81c \uc2dc ",(0,s.jsx)(n.code,{children:"PREPARING"})," \uc0c1\ud0dc\ub85c \uc804\ud658."]}),"\n",(0,s.jsxs)(n.li,{children:["5\ubd84 \ub0b4\uc5d0 \uacb0\uc81c\uac00 \uc774\ub8e8\uc5b4\uc9c0\uc9c0 \uc54a\uc744 \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"CANCELLED"})," \uc0c1\ud0dc\ub85c \uc804\ud658 \ud6c4 \uc8fc\ubb38 \ucde8\uc18c \uba54\uc77c \ubc1c\uc1a1"]}),"\n",(0,s.jsxs)(n.li,{children:["\uc7ac\uace0 \ubd80\uc871\uc73c\ub85c \uc8fc\ubb38\uc744 \ubc1b\uc744 \uc218 \uc5c6\ub294 \uacbd\uc6b0 ",(0,s.jsx)(n.code,{children:"CANCELLED"})," \uc0c1\ud0dc\ub85c \uc804\ud658 \ud6c4 \uc7ac\uace0 \uc218\ub7c9 \ubd80\uc871 \uba54\uc77c \ubc1c\uc1a1"]}),"\n",(0,s.jsx)(n.li,{children:"\uc7ac\uace0\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uba74 \uc7ac\uace0 \ubd80\uc871\uc73c\ub85c \uc8fc\ubb38 \ubabb\ud55c \uc0ac\ub78c\ub4e4\uc5d0\uac8c \uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uba54\uc77c \ubc1c\uc1a1."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ucf54\ub4dc",children:"\ucf54\ub4dc"}),"\n",(0,s.jsx)(n.h3,{id:"amazon-ses\ub97c-\uc0ac\uc6a9\ud558\uae30-\uc704\ud55c-config-\uc0dd\uc131",children:"Amazon ses\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c config \uc0dd\uc131"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Configuration\npublic class AwsSesConfig {\n\n   @Value("${aws.access.key}")\n   private String accessKey;\n\n   @Value("${aws.secret.key}")\n   private String secretKey;\n\n   @Bean\n   public SesClient sesClient() {\n      AwsBasicCredentials awsCreds = AwsBasicCredentials.create(accessKey, secretKey);\n      return SesClient.builder()\n              .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n              .region(Region.of("ap-northeast-2"))\n              .build();\n   }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"emailservice-\ud074\ub798\uc2a4-\uc0dd\uc131",children:"EmailService \ud074\ub798\uc2a4 \uc0dd\uc131"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\n@RequiredArgsConstructor\npublic class EmailService {\n    private final SesClient sesClient;\n    private final RedissonClient redissonClient;\n\n    public enum EmailType {\n        STOCK_OUT,\n        PAYMENT_TIMEOUT,\n        STOCK_UPDATE\n    }\n\n    public void sendCancellationEmail(\n        String recipientEmail,\n        String orderDetails,\n        EmailType emailType\n    ) {\n        //\uc774\uba54\uc77c \ubcf4\ub0b4\ub294 \uc0ac\ub78c\uc758 \uc8fc\uc18c\n        String sender = "\ubc1c\uc2e0\uc790 \uc774\uba54\uc77c"; // \uac80\uc99d\ub41c \ubc1c\uc2e0\uc790 \uc774\uba54\uc77c\n        String htmlBody;\n        String subject;\n        // \uc0c1\ud669\uc5d0 \ub530\ub978 \uc774\uba54\uc77c \ud3fc\n        switch (emailType) {\n            case STOCK_OUT:\n                htmlBody = buildStockOutCancellationHtml(orderDetails);\n                subject = "\uc8fc\ubb38 \ucde8\uc18c \uc548\ub0b4";\n                break;\n            case PAYMENT_TIMEOUT:\n                htmlBody = buildPaymentTimeoutCancellationHtml(orderDetails);\n                subject = "\uacb0\uc81c \uc2dc\uac04 \ucd08\uacfc\ub85c \uc778\ud55c \uc8fc\ubb38 \ucde8\uc18c";\n                break;\n            case STOCK_UPDATE:\n                htmlBody = buildStockUpdateHtml(orderDetails);\n                subject = "\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uc54c\ub9bc";\n                break;\n            default:\n                throw new IllegalArgumentException("Unknown email type");\n        }\n        //\uc774\uba54\uc77c \uc694\uccad \uac1d\uccb4 \ube4c\ub354 \ucd08\uae30\ud654\n        SendEmailRequest request = SendEmailRequest.builder()\n            //\uc774\uba54\uc77c \uc218\uc2e0\uc790 \uc124\uc815\n            .destination(Destination.builder().toAddresses(recipientEmail).build())\n            //\uc774\uba54\uc77c \ub0b4\uc6a9 \uad6c\uc131\n            .message(Message.builder()\n                //\uc774\uba54\uc77c \uc81c\ubaa9 \uc0dd\uc131\n                .subject(Content.builder().data(subject).build())\n                //\uc774\uba54\uc77c \ub0b4\uc6a9 \uad6c\uc131\n                .body(Body.builder().text(Content.builder().data(htmlBody).build()).build())\n                //Massage \uac1d\uccb4 \ube4c\ub4dc \uc644\ub8cc\n                .build())\n            //\ubc1c\uc1a1\uc790 \uc124\uc815 \uc644\ub8cc\n            .source(sender)\n            //sandMailRequest \ube4c\ub4dc \uc644\ub8cc\n            .build();\n        //SES \ud074\ub77c\uc774\uc5b8\ud2b8\ub97c \ud1b5\ud574 \uc774\uba54\uc77c \uc804\uc1a1\n        sesClient.sendEmail(request);\n        //\uc774\uba54\uc77c \uc804\uc1a1 \uc131\uacf5 \ub85c\uadf8 \ucd9c\ub825\n        System.out.println("Cancellation email sent to " + recipientEmail);\n    }\n    //\uc774\uba54\uc77c \ud15c\ud50c\ub9bf 1) \uc7ac\uace0\uac00 \ubd80\uc871\ud560 \uacbd\uc6b0\n    private String buildStockOutCancellationHtml(String productDetails) {\n       return "\uc548\ub155\ud558\uc138\uc694 10-trillon-dollars \uc785\ub2c8\ub2e4. \uc8fc\ubb38 \uc0c1\ud488" + orderDetails +\n               "\uc758 \uc7ac\uace0\uac00 \ubd80\uc871\ud574\uc11c \uc8fc\ubb38\uc774 \ucde8\uc18c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\\n\uc7ac\uace0\uac00 \ucd94\uac00\ub418\uba74 \uba54\uc77c\uc744 \ubc1c\uc1a1\ud574\ub4dc\ub9bd\ub2c8\ub2e4.";\n    }\n    //\uc774\uba54\uc77c \ud15c\ud50c\ub9bf 2) \uacb0\uc81c\ub97c 5\ubd84\ub3d9\uc548 \uc548\ud574\uc11c \uc8fc\ubb38\uc774 \ucde8\uc18c\ub41c \uacbd\uc6b0\n    private String buildPaymentTimeoutCancellationHtml(String productDetails) {\n        return "\uc548\ub155\ud558\uc138\uc694 10-trillon-dollars \uc785\ub2c8\ub2e4. \uc8fc\ubb38 \uc0c1\ud488" + orderDetails +\n            "\uc758 \uc8fc\ubb38\uc774 \ucde8\uc18c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\\n\uc9c0\uc815\ub41c \uae30\uac04 \ub0b4\uc5d0 \uacb0\uc81c\uac00 \uc774\ub8e8\uc5b4\uc9c0\uc9c0 \uc54a\uc544 \uc8fc\ubb38\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";\n    }\n    //\uc774\uba54\uc77c \ud15c\ud50c\ub9bf 3) \uc7ac\uace0\uac00 \uc5c5\ub370\uc774\ud2b8 \ub420 \uacbd\uc6b0\n    private String buildStockUpdateHtml(String productDetails) {\n       return "\uc548\ub155\ud558\uc138\uc694 10-trillon-dollars \uc785\ub2c8\ub2e4. \uc8fc\ubb38 \uc0c1\ud488" + orderDetails +\n               "\uc758 \uc7ac\uace0\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\uc2b5\ub2c8\ub2e4..\\n\uc8fc\ubb38\uc740 \uc120\ucc29\uc21c\uc73c\ub85c \uc774\ub8e8\uc5b4 \uc9d1\ub2c8\ub2e4.";\n    }\n    //\uc7ac\uace0 \ubd80\uc871\uc73c\ub85c \uc778\ud55c \uc8fc\ubb38 \ucde8\uc18c \uace0\uac1d \uc800\uc7a5 \uba54\uc11c\ub4dc (\ub808\ub514\uc2a4 \uc0ac\uc6a9)\n    public void saveStock_Out_UserInfoToRedis(String email, Long productId) {\n        String key = "stockOut:" + productId;\n        //\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8\ub97c \ubc1b\uc744 \uc0ac\uc6a9\uc790 \uc774\uba54\uc77c \uc800\uc7a5\n        redissonClient.getList(key).add(email);\n        //\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uc54c\ub9bc \uc720\uc9c0 \uae30\uac04 \uc124\uc815, 24\uc2dc\uac04\n        redissonClient.getBucket(key).expire(10, TimeUnit.MINUTES);\n    }\n\n    //\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uc2dc \ub808\ub514\uc2a4 \uc870\ud68c \ubc0f \uc774\uba54\uc77c \uc804\uc1a1\n    public void nofityStockUpdate(Long productId,String productName) {\n        // \ub808\ub514\uc2a4 \ud0a4 \uc0dd\uc131\n        String key = "stockOut:" + productId;\n        // \ub808\ub514\uc2a4\uc5d0\uc11c \uc774 \ud0a4\uc5d0 \ud574\ub2f9\ud558\ub294 \uba54\uc77c \ub9ac\uc2a4\ud2b8\ub97c \uac00\uc838\uc634\n        RList<String> emails = redissonClient.getList(key);\n        if (!emails.isEmpty()) {\n            String productDetails = productName;\n            for (String email : emails) {\n                sendCancellationEmail(email, productDetails, EmailType.STOCK_UPDATE);\n            }\n            redissonClient.getKeys().delete(key);\n        } else {\n            System.out.println("\ud574\ub2f9\ub418\ub294 \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4" + productId);\n        }\n    }\n\n    @PreDestroy\n    public void close() {\n        if (sesClient != null) {\n            sesClient.close();\n            System.out.println("SES Client has been closed.");\n        }\n    }\n}\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);